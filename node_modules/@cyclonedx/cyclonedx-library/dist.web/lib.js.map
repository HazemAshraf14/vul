{"version":3,"file":"lib.js","mappings":"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","sources":["webpack://CycloneDX_library/webpack/universalModuleDefinition","webpack://CycloneDX_library/./src/_helpers/notUndefined.ts","webpack://CycloneDX_library/./src/_helpers/packageUrl.ts","webpack://CycloneDX_library/./src/_helpers/sortable.ts","webpack://CycloneDX_library/./src/_helpers/tree.ts","webpack://CycloneDX_library/./src/enums/attachmentEncoding.ts","webpack://CycloneDX_library/./src/enums/componentScope.ts","webpack://CycloneDX_library/./src/enums/componentType.ts","webpack://CycloneDX_library/./src/enums/externalReferenceType.ts","webpack://CycloneDX_library/./src/enums/hashAlogorithm.ts","webpack://CycloneDX_library/./src/enums/index.ts","webpack://CycloneDX_library/./src/enums/vulnerability/affectStatus.ts","webpack://CycloneDX_library/./src/enums/vulnerability/analysisJustification.ts","webpack://CycloneDX_library/./src/enums/vulnerability/analysisResponse.ts","webpack://CycloneDX_library/./src/enums/vulnerability/analysisState.ts","webpack://CycloneDX_library/./src/enums/vulnerability/index.ts","webpack://CycloneDX_library/./src/enums/vulnerability/ratingMethod.ts","webpack://CycloneDX_library/./src/enums/vulnerability/severity.ts","webpack://CycloneDX_library/./src/factories/index.common.ts","webpack://CycloneDX_library/./src/factories/index.web.ts","webpack://CycloneDX_library/./src/factories/license.ts","webpack://CycloneDX_library/./src/factories/packageUrl.ts","webpack://CycloneDX_library/./src/index.common.ts","webpack://CycloneDX_library/./src/index.web.ts","webpack://CycloneDX_library/./src/models/attachment.ts","webpack://CycloneDX_library/./src/models/bom.ts","webpack://CycloneDX_library/./src/models/bomRef.ts","webpack://CycloneDX_library/./src/models/component.ts","webpack://CycloneDX_library/./src/models/externalReference.ts","webpack://CycloneDX_library/./src/models/hash.ts","webpack://CycloneDX_library/./src/models/index.ts","webpack://CycloneDX_library/./src/models/license.ts","webpack://CycloneDX_library/./src/models/metadata.ts","webpack://CycloneDX_library/./src/models/organizationalContact.ts","webpack://CycloneDX_library/./src/models/organizationalEntity.ts","webpack://CycloneDX_library/./src/models/property.ts","webpack://CycloneDX_library/./src/models/swid.ts","webpack://CycloneDX_library/./src/models/tool.ts","webpack://CycloneDX_library/./src/models/vulnerability/advisory.ts","webpack://CycloneDX_library/./src/models/vulnerability/affect.ts","webpack://CycloneDX_library/./src/models/vulnerability/analysis.ts","webpack://CycloneDX_library/./src/models/vulnerability/credits.ts","webpack://CycloneDX_library/./src/models/vulnerability/index.ts","webpack://CycloneDX_library/./src/models/vulnerability/rating.ts","webpack://CycloneDX_library/./src/models/vulnerability/reference.ts","webpack://CycloneDX_library/./src/models/vulnerability/source.ts","webpack://CycloneDX_library/./src/models/vulnerability/vulnerability.ts","webpack://CycloneDX_library/./src/serialize/baseSerializer.ts","webpack://CycloneDX_library/./src/serialize/bomRefDiscriminator.ts","webpack://CycloneDX_library/./src/serialize/index.common.ts","webpack://CycloneDX_library/./src/serialize/index.web.ts","webpack://CycloneDX_library/./src/serialize/json/index.ts","webpack://CycloneDX_library/./src/serialize/json/normalize.ts","webpack://CycloneDX_library/./src/serialize/json/types.ts","webpack://CycloneDX_library/./src/serialize/jsonSerializer.ts","webpack://CycloneDX_library/./src/serialize/xml/index.ts","webpack://CycloneDX_library/./src/serialize/xml/normalize.ts","webpack://CycloneDX_library/./src/serialize/xml/types.ts","webpack://CycloneDX_library/./src/serialize/xmlBaseSerializer.ts","webpack://CycloneDX_library/./src/serialize/xmlSerializer.web.ts","webpack://CycloneDX_library/./src/spdx.ts","webpack://CycloneDX_library/./src/spec.ts","webpack://CycloneDX_library/./src/types/cpe.ts","webpack://CycloneDX_library/./src/types/cwe.ts","webpack://CycloneDX_library/./src/types/index.ts","webpack://CycloneDX_library/./src/types/integer.ts","webpack://CycloneDX_library/./src/types/mimeType.ts","webpack://CycloneDX_library/./src/types/urn.ts","webpack://CycloneDX_library/./src/utils/bomUtility.ts","webpack://CycloneDX_library/./src/utils/index.ts","webpack://CycloneDX_library/./src/validation/errors.ts","webpack://CycloneDX_library/./src/validation/index.common.ts","webpack://CycloneDX_library/./src/validation/index.web.ts","webpack://CycloneDX_library/external umd \"packageurl-js\"","webpack://CycloneDX_library/webpack/bootstrap","webpack://CycloneDX_library/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"packageurl-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"packageurl-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CycloneDX_library\"] = factory(require(\"packageurl-js\"));\n\telse\n\t\troot[\"CycloneDX_library\"] = factory(root[\"packageurl-js\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__6081__) => {\nreturn ","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport type NotUndefined<T> = T extends undefined ? never : T\n\nexport function isNotUndefined<T> (value: T | undefined): value is NotUndefined<T> {\n  return value !== undefined\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * Known PURL qualifier names.\n * To be used until {@link https://github.com/package-url/packageurl-js/pull/34 | PackageURL PR#34} gets merged and released,\n * and {@link https://github.com/package-url/packageurl-js/issues/35 | PackageURL Issue#35} gets sorted out.\n *\n * For the list/spec of the well-known keys,\n * see {@link https://github.com/package-url/purl-spec/blob/master/PURL-SPECIFICATION.rst#known-qualifiers-keyvalue-pairs | known qualifiers key/value-pairs}\n */\nexport const enum PackageUrlQualifierNames {\n  DownloadURL = 'download_url',\n  VcsUrl = 'vcs_url',\n  Checksum = 'checksum',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Stringable } from './stringable'\n\nexport interface Sortable<TItem> {\n  sorted: () => TItem[]\n}\n\nexport interface Comparable<TOther> {\n  /**\n   * Compare one object with another.\n   *\n   * The purpose of this method is not to test for equality, but have deterministic comparability.\n   * As long as this method is deterministic, there is no need for a proper ordering in any result/downstream.\n   */\n  compare: (other: TOther) => number\n}\n\nconst compareObjectsSymbol = Symbol('internal compare function')\n\nexport type SortableIterable<TItem> = Iterable<TItem> & Sortable<TItem>\n\nabstract class SortableSet<TItem> extends Set<TItem> implements SortableIterable<TItem>, Comparable<Sortable<TItem>> {\n  /**\n   * Comparator function to apply to two items.\n   */\n  protected abstract [compareObjectsSymbol] (a: TItem, b: TItem): number\n\n  /**\n   * Get a sorted array of all items in the collection..\n   */\n  sorted (): TItem[] {\n    return Array.from(this).sort(this[compareObjectsSymbol])\n  }\n\n  /**\n   * Comparator function to apply to two objects of the collection..\n   */\n  compare (other: Sortable<TItem>): number {\n    const sortedOther = other.sorted()\n    const sortedSelf = this.sorted()\n\n    if (sortedSelf.length !== sortedOther.length) {\n      return sortedSelf.length - sortedOther.length\n    }\n\n    // it was asserted, that both lists have equal length -> zip-like compare\n    for (let i = sortedSelf.length - 1; i >= 0; --i) {\n      const iCompared = this[compareObjectsSymbol](sortedSelf[i], sortedOther[i])\n      if (iCompared !== 0) {\n        return iCompared\n      }\n    }\n\n    return 0\n  }\n}\n\nexport class SortableComparables<TItem extends Comparable<TItem>> extends SortableSet<TItem> {\n  protected [compareObjectsSymbol] (a: TItem, b: TItem): number {\n    return a.compare(b)\n  }\n}\n\nexport class SortableStringables<TItem extends Stringable = Stringable> extends SortableSet<TItem> {\n  protected [compareObjectsSymbol] (a: TItem, b: TItem): number {\n    return a.toString().localeCompare(b.toString())\n  }\n}\n\nexport class SortableNumbers<TItem extends number = number> extends SortableSet<TItem> {\n  protected [compareObjectsSymbol] (a: TItem, b: TItem): number {\n    return a - b\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport const treeIteratorSymbol = Symbol('iterator of a tree/nesting-like structure')\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport enum AttachmentEncoding {\n  Base64 = 'base64',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport enum ComponentScope {\n  Required = 'required',\n  Optional = 'optional',\n  Excluded = 'excluded',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport enum ComponentType {\n  Application = 'application',\n  Framework = 'framework',\n  Library = 'library',\n  Container = 'container',\n  OperatingSystem = 'operating-system',\n  Device = 'device',\n  Firmware = 'firmware',\n  File = 'file',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport enum ExternalReferenceType {\n  VCS = 'vcs',\n  IssueTracker = 'issue-tracker',\n  Website = 'website',\n  Advisories = 'advisories',\n  BOM = 'bom',\n  MailingList = 'mailing-list',\n  Social = 'social',\n  Chat = 'chat',\n  Documentation = 'documentation',\n  Support = 'support',\n  Distribution = 'distribution',\n  License = 'license',\n  BuildMeta = 'build-meta',\n  BuildSystem = 'build-system',\n  ReleaseNotes = 'release-notes',\n  Other = 'other',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport enum HashAlgorithm {\n  MD5 = 'MD5',\n  'SHA-1' = 'SHA-1',\n  'SHA-256' = 'SHA-256',\n  'SHA-384' = 'SHA-384',\n  'SHA-512' = 'SHA-512',\n  'SHA3-256' = 'SHA3-256',\n  'SHA3-384' = 'SHA3-384',\n  'SHA3-512' = 'SHA3-512',\n  'BLAKE2b-256' = 'BLAKE2b-256',\n  'BLAKE2b-384' = 'BLAKE2b-384',\n  'BLAKE2b-512' = 'BLAKE2b-512',\n  BLAKE3 = 'BLAKE3',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './attachmentEncoding'\nexport * from './componentScope'\nexport * from './componentType'\nexport * from './externalReferenceType'\nexport * from './hashAlogorithm'\n\n/** @beta */\nexport * as Vulnerability from './vulnerability'\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/** @beta */\nexport enum AffectStatus {\n  Affected = 'affected',\n  Unaffected = 'unaffected',\n  Unknown = 'unknown',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/** @beta */\nexport enum AnalysisJustification {\n  CodeNotPresent = 'code_not_present',\n  CodeNotReachable = 'code_not_reachable',\n  RequiresConfiguration = 'requires_configuration',\n  RequiresDependency = 'requires_dependency',\n  RequiresEnvironment = 'requires_environment',\n  ProtectedByCompiler = 'protected_by_compiler',\n  ProtectedAtRuntime = 'protected_at_runtime',\n  ProtectedAtPerimeter = 'protected_at_perimeter',\n  ProtectedByMitigatingControl = 'protected_by_mitigating_control',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { SortableStringables } from '../../_helpers/sortable'\n\n/** @beta */\nexport enum AnalysisResponse {\n  CanNotFix = 'can_not_fix',\n  WillNotFix = 'will_not_fix',\n  Update = 'update',\n  Rollback = 'rollback',\n  WorkaroundAvailable = 'workaround_available',\n}\n\n/** @beta */\nexport class AnalysisResponseRepository extends SortableStringables<AnalysisResponse> {\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/** @beta */\nexport enum AnalysisState {\n  Resolved = 'resolved',\n  ResolvedWithPedigree = 'resolved_with_pedigree',\n  Exploitable = 'exploitable',\n  InTriage = 'in_triage',\n  FalsePositive = 'false_positive',\n  NotAffected = 'not_affected',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './affectStatus'\nexport * from './analysisJustification'\nexport * from './analysisResponse'\nexport * from './analysisState'\nexport * from './ratingMethod'\nexport * from './severity'\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * Specifies the severity or risk scoring methodology or standard used.\n *\n * @beta\n */\nexport enum RatingMethod {\n  /** [CVSS v2 standard](https://www.first.org/cvss/v2/) */\n  CVSSv2 = 'CVSSv2',\n  /** [CVSS v3.0 standard](https://www.first.org/cvss/v3-0/) */\n  CVSSv3 = 'CVSSv3',\n  /** [CVSS v3.1 standard](https://www.first.org/cvss/v3-1/) */\n  CVSSv31 = 'CVSSv31',\n  /** [OWASP Risk Rating](https://owasp.org/www-community/OWASP_Risk_Rating_Methodology) */\n  OWASP = 'OWASP',\n  Other = 'other',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * Textual representation of the severity of the vulnerability adopted by the analysis method.\n * If the analysis method uses values other than what is provided, the user is expected to translate appropriately.\n *\n * @beta\n */\nexport enum Severity {\n  Critical = 'critical',\n  High = 'high',\n  Medium = 'medium',\n  Low = 'low',\n  Info = 'info',\n  None = 'none',\n  Unknown = 'unknown',\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n// not everything is public, yet\n\nexport * from './license'\nexport * from './packageUrl'\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './index.common'\n\n// region web-specifics\n\n// ... nothing yet\n\n// endregion web-specifics\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { DisjunctiveLicense, License } from '../models'\nimport { LicenseExpression, NamedLicense, SpdxLicense } from '../models'\nimport { fixupSpdxId } from '../spdx'\n\nexport class LicenseFactory {\n  makeFromString (value: string): License {\n    try {\n      return this.makeExpression(value)\n    } catch {\n      return this.makeDisjunctive(value)\n    }\n  }\n\n  /**\n   * @throws {@link RangeError} if expression is not eligible\n   */\n  makeExpression (value: string): LicenseExpression {\n    return new LicenseExpression(value)\n  }\n\n  makeDisjunctive (value: string): DisjunctiveLicense {\n    try {\n      return this.makeDisjunctiveWithId(value)\n    } catch {\n      return this.makeDisjunctiveWithName(value)\n    }\n  }\n\n  /**\n   * @throws {@link RangeError} if value is not supported SPDX id\n   */\n  makeDisjunctiveWithId (value: string | any): SpdxLicense {\n    const spdxId = fixupSpdxId(String(value))\n    if (undefined === spdxId) {\n      throw new RangeError('Unsupported SPDX id')\n    }\n\n    return new SpdxLicense(spdxId)\n  }\n\n  makeDisjunctiveWithName (value: string | any): NamedLicense {\n    return new NamedLicense(String(value))\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { PackageURL } from 'packageurl-js'\n\nimport { PackageUrlQualifierNames } from '../_helpers/packageUrl'\nimport { ExternalReferenceType } from '../enums'\nimport type { Component } from '../models'\n\nexport class PackageUrlFactory {\n  readonly #type: PackageURL['type']\n\n  constructor (type: PackageUrlFactory['type']) {\n    this.#type = type\n  }\n\n  get type (): PackageURL['type'] {\n    return this.#type\n  }\n\n  makeFromComponent (component: Component, sort: boolean = false): PackageURL | undefined {\n    const qualifiers: PackageURL['qualifiers'] = {}\n    let subpath: PackageURL['subpath']\n\n    // sorting to allow reproducibility: use the last instance for a `extRef.type`, if multiples exist\n    const extRefs = sort\n      ? component.externalReferences.sorted()\n      : component.externalReferences\n    for (const extRef of extRefs) {\n      const url = extRef.url.toString()\n      if (url.length <= 0) {\n        continue\n      }\n      // No further need for validation.\n      // According to https://github.com/package-url/purl-spec/blob/master/PURL-TYPES.rst\n      // there is no formal requirement to a `..._url`.\n      // Everything is possible: URL-encoded, not encoded, with schema, without schema\n      switch (extRef.type) {\n        case ExternalReferenceType.VCS:\n          [qualifiers[PackageUrlQualifierNames.VcsUrl], subpath] = url.split('#', 2)\n          break\n        case ExternalReferenceType.Distribution:\n          qualifiers[PackageUrlQualifierNames.DownloadURL] = url\n          break\n      }\n    }\n\n    const hashes = component.hashes\n    if (hashes.size > 0) {\n      qualifiers[PackageUrlQualifierNames.Checksum] = Array.from(\n        sort\n          ? hashes.sorted()\n          : hashes,\n        ([hashAlgo, hashCont]) => `${hashAlgo.toLowerCase()}:${hashCont.toLowerCase()}`\n      ).join(',')\n    }\n\n    try {\n      // Do not beautify the parameters here, because that is in the domain of PackageURL and its representation.\n      // No need to convert an empty \"subpath\" string to `undefined` and such.\n      return new PackageURL(\n        this.#type,\n        component.group,\n        component.name,\n        component.version,\n        qualifiers,\n        subpath\n      )\n    } catch {\n      return undefined\n    }\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * as Enums from './enums'\nexport * as Models from './models'\nexport * as SPDX from './spdx'\nexport * as Spec from './spec'\nexport * as Types from './types'\nexport * as Utils from './utils'\n// do not export the _helpers, they are for internal use only\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './index.common'\n\n// region web-specifics\n\nexport * as Factories from './factories/index.web'\nexport * as Serialize from './serialize/index.web'\nexport * as Validation from './validation/index.web'\n\n// endregion web-specifics\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { AttachmentEncoding } from '../enums'\n\nexport interface OptionalAttachmentProperties {\n  contentType?: Attachment['contentType']\n  encoding?: Attachment['encoding']\n}\n\nexport class Attachment {\n  contentType?: string\n  content: string\n  encoding?: AttachmentEncoding\n\n  constructor (content: Attachment['content'], op: OptionalAttachmentProperties = {}) {\n    this.contentType = op.contentType\n    this.content = content\n    this.encoding = op.encoding\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { PositiveInteger } from '../types'\nimport { isPositiveInteger } from '../types'\nimport { ComponentRepository } from './component'\nimport { Metadata } from './metadata'\nimport { VulnerabilityRepository } from './vulnerability'\n\nexport interface OptionalBomProperties {\n  metadata?: Bom['metadata']\n  components?: Bom['components']\n  version?: Bom['version']\n  vulnerabilities?: Bom['vulnerabilities']\n  serialNumber?: Bom['serialNumber']\n}\n\nexport class Bom {\n  metadata: Metadata\n  components: ComponentRepository\n  vulnerabilities: VulnerabilityRepository\n\n  /** @see {@link version} */\n  #version: PositiveInteger = 1\n\n  /** @see {@link serialNumber} */\n  #serialNumber?: string\n\n  // Property `bomFormat` is not part of model, it is runtime information.\n  // Property `specVersion` is not part of model, it is runtime information.\n\n  // Property `dependencies` is not part of this model, but part of `Component` and other models.\n  // The dependency graph can be normalized on render-time, no need to store it in the bom model.\n\n  /**\n   * @throws {@link TypeError} if `op.version` is neither {@link PositiveInteger} nor `undefined`\n   */\n  constructor (op: OptionalBomProperties = {}) {\n    this.metadata = op.metadata ?? new Metadata()\n    this.components = op.components ?? new ComponentRepository()\n    this.version = op.version ?? this.version\n    this.vulnerabilities = op.vulnerabilities ?? new VulnerabilityRepository()\n    this.serialNumber = op.serialNumber\n  }\n\n  get version (): PositiveInteger {\n    return this.#version\n  }\n\n  /**\n   * @throws {@link TypeError} if value is not {@link PositiveInteger}\n   */\n  set version (value: PositiveInteger) {\n    if (!isPositiveInteger(value)) {\n      throw new TypeError('Not PositiveInteger')\n    }\n    this.#version = value\n  }\n\n  get serialNumber (): string | undefined {\n    return this.#serialNumber\n  }\n\n  set serialNumber (value: string | undefined) {\n    this.#serialNumber = value === ''\n      ? undefined\n      : value\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * Proxy for the BomRef.\n * This way a `BomRef` gets unique by the in-memory-address of the object.\n */\nexport class BomRef {\n  value?: string\n\n  constructor (value?: BomRef['value']) {\n    this.value = value\n  }\n\n  compare (other: BomRef): number {\n    return this.toString().localeCompare(other.toString())\n  }\n\n  toString (): string {\n    return this.value ?? ''\n  }\n}\n\nexport class BomRefRepository extends Set<BomRef> {\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { PackageURL } from 'packageurl-js'\n\nimport type { Comparable } from '../_helpers/sortable'\nimport { SortableComparables } from '../_helpers/sortable'\nimport { treeIteratorSymbol } from '../_helpers/tree'\nimport type { ComponentScope, ComponentType } from '../enums'\nimport type { CPE } from '../types'\nimport { isCPE } from '../types'\nimport { BomRef, BomRefRepository } from './bomRef'\nimport { ExternalReferenceRepository } from './externalReference'\nimport { HashDictionary } from './hash'\nimport { LicenseRepository } from './license'\nimport type { OrganizationalEntity } from './organizationalEntity'\nimport { PropertyRepository } from './property'\nimport type { SWID } from './swid'\n\nexport interface OptionalComponentProperties {\n  bomRef?: BomRef['value']\n  author?: Component['author']\n  copyright?: Component['copyright']\n  description?: Component['description']\n  externalReferences?: Component['externalReferences']\n  group?: Component['group']\n  hashes?: Component['hashes']\n  licenses?: Component['licenses']\n  publisher?: Component['publisher']\n  purl?: Component['purl']\n  scope?: Component['scope']\n  supplier?: Component['supplier']\n  swid?: Component['swid']\n  version?: Component['version']\n  dependencies?: Component['dependencies']\n  components?: Component['components']\n  cpe?: Component['cpe']\n  properties?: Component['properties']\n}\n\nexport class Component implements Comparable<Component> {\n  type: ComponentType\n  name: string\n  author?: string\n  copyright?: string\n  description?: string\n  externalReferences: ExternalReferenceRepository\n  group?: string\n  hashes: HashDictionary\n  licenses: LicenseRepository\n  publisher?: string\n  purl?: PackageURL\n  scope?: ComponentScope\n  supplier?: OrganizationalEntity\n  swid?: SWID\n  version?: string\n  dependencies: BomRefRepository\n  components: ComponentRepository\n  properties: PropertyRepository\n\n  /** @see {@link bomRef} */\n  readonly #bomRef: BomRef\n\n  /** @see {@link cpe} */\n  #cpe?: CPE\n\n  /**\n   * @throws {@link TypeError} if `op.cpe` is neither {@link CPE} nor `undefined`\n   */\n  constructor (type: Component['type'], name: Component['name'], op: OptionalComponentProperties = {}) {\n    this.#bomRef = new BomRef(op.bomRef)\n    this.type = type\n    this.name = name\n    this.supplier = op.supplier\n    this.author = op.author\n    this.copyright = op.copyright\n    this.externalReferences = op.externalReferences ?? new ExternalReferenceRepository()\n    this.group = op.group\n    this.hashes = op.hashes ?? new HashDictionary()\n    this.licenses = op.licenses ?? new LicenseRepository()\n    this.publisher = op.publisher\n    this.purl = op.purl\n    this.scope = op.scope\n    this.swid = op.swid\n    this.version = op.version\n    this.description = op.description\n    this.dependencies = op.dependencies ?? new BomRefRepository()\n    this.components = op.components ?? new ComponentRepository()\n    this.cpe = op.cpe\n    this.properties = op.properties ?? new PropertyRepository()\n  }\n\n  get bomRef (): BomRef {\n    return this.#bomRef\n  }\n\n  get cpe (): CPE | undefined {\n    return this.#cpe\n  }\n\n  /**\n   * @throws {@link TypeError} if value is neither {@link CPE} nor `undefined`\n   */\n  set cpe (value: CPE | undefined) {\n    if (value !== undefined && !isCPE(value)) {\n      throw new TypeError('Not CPE nor undefined')\n    }\n    this.#cpe = value\n  }\n\n  compare (other: Component): number {\n    // The purpose of this method is not to test for equality, but have deterministic comparability.\n    const bomRefCompare = this.bomRef.compare(other.bomRef)\n    if (bomRefCompare !== 0) {\n      return bomRefCompare\n    }\n    if (this.purl !== undefined && other.purl !== undefined) {\n      return this.purl.toString().localeCompare(other.purl.toString())\n    }\n    if (this.#cpe !== undefined && other.#cpe !== undefined) {\n      return this.#cpe.localeCompare(other.#cpe)\n    }\n    /* eslint-disable @typescript-eslint/strict-boolean-expressions -- run compares in weighted order */\n    return (this.group ?? '').localeCompare(other.group ?? '') ||\n      this.name.localeCompare(other.name) ||\n      (this.version ?? '').localeCompare(other.version ?? '')\n    /* eslint-enable  @typescript-eslint/strict-boolean-expressions */\n  }\n}\n\nexport class ComponentRepository extends SortableComparables<Component> {\n  * [treeIteratorSymbol] (): Generator<Component> {\n    for (const component of this) {\n      yield component\n      yield * component.components[treeIteratorSymbol]()\n    }\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Comparable } from '../_helpers/sortable'\nimport { SortableComparables } from '../_helpers/sortable'\nimport type { ExternalReferenceType } from '../enums'\n\nexport interface OptionalExternalReferenceProperties {\n  comment?: ExternalReference['comment']\n}\n\nexport class ExternalReference implements Comparable<ExternalReference> {\n  url: URL | string\n  type: ExternalReferenceType\n  comment?: string\n\n  constructor (url: ExternalReference['url'], type: ExternalReference['type'], op: OptionalExternalReferenceProperties = {}) {\n    this.url = url\n    this.type = type\n    this.comment = op.comment\n  }\n\n  compare (other: ExternalReference): number {\n    // The purpose of this method is not to test for equality, but have deterministic comparability.\n    /* eslint-disable-next-line @typescript-eslint/strict-boolean-expressions -- run compares in weighted order */\n    return this.type.localeCompare(other.type) ||\n      this.url.toString().localeCompare(other.url.toString())\n  }\n}\n\nexport class ExternalReferenceRepository extends SortableComparables<ExternalReference> {\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Sortable } from '../_helpers/sortable'\nimport type { HashAlgorithm } from '../enums'\n\n// no regex for the HashContent in here. It applies at runtime of a normalization/serialization process.\nexport type HashContent = string\n\nexport type Hash = readonly [\n  // order matters: it must reflect [key, value] of HashDictionary -\n  // this way a HashDictionary can be constructed from multiple Hash objects.\n  /* algorithm: */ HashAlgorithm,\n  /* content:   */ HashContent,\n  // cannot use named tuple syntax ala `[a: T1, b: T2]` as it causes errors when downstream-projects compile with older versions of TypeScript\n]\n\n/** @since 1.5.0 */\nexport class HashDictionary extends Map<Hash[0], Hash[1]> implements Sortable<Hash> {\n  #compareItems ([a1, c1]: Hash, [a2, c2]: Hash): number {\n    /* eslint-disable @typescript-eslint/strict-boolean-expressions -- run compares in weighted order */\n    return a1.localeCompare(a2) ||\n      c1.localeCompare(c2)\n    /* eslint-enable @typescript-eslint/strict-boolean-expressions */\n  }\n\n  sorted (): Hash[] {\n    return Array.from(this.entries()).sort(this.#compareItems)\n  }\n}\n\n/** @deprecated use {@link HashDictionary} instead of {@link HashRepository} */\nexport class HashRepository extends HashDictionary {}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './attachment'\nexport * from './bom'\nexport * from './bomRef'\nexport * from './component'\nexport * from './externalReference'\nexport * from './hash'\nexport * from './license'\nexport * from './metadata'\nexport * from './organizationalContact'\nexport * from './organizationalEntity'\nexport * from './property'\nexport * from './swid'\nexport * from './tool'\n\n/** @beta */\nexport * as Vulnerability from './vulnerability'\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Sortable } from '../_helpers/sortable'\nimport type { SpdxId } from '../spdx'\nimport { isSupportedSpdxId } from '../spdx'\nimport type { Attachment } from './attachment'\n\nexport class LicenseExpression {\n  static isEligibleExpression (expression: string | any): boolean {\n    // smallest known: (A or B)\n    /* TODO: use a better detection.\n     * maybe validate via https://www.npmjs.com/package/spdx-expression-parse\n     * see https://github.com/CycloneDX/cyclonedx-javascript-library/issues/271\n     */\n    return typeof expression === 'string' &&\n      expression.length >= 8 &&\n      expression[0] === '(' &&\n      expression[expression.length - 1] === ')'\n  }\n\n  /** @see {@link expression} */\n  #expression!: string\n\n  /**\n   * @throws {@link RangeError} if `expression` is not {@link LicenseExpression.isEligibleExpression | eligible}\n   */\n  constructor (expression: LicenseExpression['expression']) {\n    this.expression = expression\n  }\n\n  get expression (): string {\n    return this.#expression\n  }\n\n  /**\n   * @throws {@link RangeError} if value is not {@link LicenseExpression.isEligibleExpression | eligible}\n   */\n  set expression (value: string) {\n    if (!LicenseExpression.isEligibleExpression(value)) {\n      throw new RangeError('Not eligible expression')\n    }\n    this.#expression = value\n  }\n\n  compare (other: LicenseExpression): number {\n    return this.#expression.localeCompare(other.#expression)\n  }\n}\n\nexport interface OptionalNamedLicenseProperties {\n  text?: NamedLicense['text']\n  url?: NamedLicense['url']\n}\n\nexport class NamedLicense {\n  name: string\n  text?: Attachment\n  url?: URL | string\n\n  constructor (name: NamedLicense['name'], op: OptionalNamedLicenseProperties = {}) {\n    this.name = name\n    this.text = op.text\n    this.url = op.url\n  }\n\n  compare (other: NamedLicense): number {\n    return this.name.localeCompare(other.name)\n  }\n}\n\nexport interface OptionalSpdxLicenseProperties {\n  text?: SpdxLicense['text']\n  url?: SpdxLicense['url']\n}\n\nexport class SpdxLicense {\n  text?: Attachment\n  url?: URL | string\n\n  /** @see {@link id} */\n  #id!: SpdxId\n\n  /**\n   * @throws {@link RangeError} if `id` is not {@link isSupportedSpdxId | supported}\n   */\n  constructor (id: SpdxLicense['id'], op: OptionalSpdxLicenseProperties = {}) {\n    this.id = id\n    this.text = op.text\n    this.url = op.url\n  }\n\n  get id (): SpdxId {\n    return this.#id\n  }\n\n  /**\n   * @throws {@link RangeError} if value is not {@link isSupportedSpdxId | supported}\n   */\n  set id (value: SpdxId) {\n    if (!isSupportedSpdxId(value)) {\n      throw new RangeError('Unknown SPDX id')\n    }\n    this.#id = value\n  }\n\n  compare (other: SpdxLicense): number {\n    return this.#id.localeCompare(other.#id)\n  }\n}\n\nexport type DisjunctiveLicense = NamedLicense | SpdxLicense\nexport type License = DisjunctiveLicense | LicenseExpression\n\nexport class LicenseRepository extends Set<License> implements Sortable<License> {\n  #compareItems (a: License, b: License): number {\n    if (a.constructor === b.constructor) {\n      // @ts-expect-error -- classes are from same type -> they are comparable\n      return a.compare(b)\n    }\n    return a.constructor.name.localeCompare(b.constructor.name)\n  }\n\n  sorted (): License[] {\n    return Array.from(this).sort(this.#compareItems)\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Component } from './component'\nimport { OrganizationalContactRepository } from './organizationalContact'\nimport type { OrganizationalEntity } from './organizationalEntity'\nimport { ToolRepository } from './tool'\n\nexport interface OptionalMetadataProperties {\n  timestamp?: Metadata['timestamp']\n  tools?: Metadata['tools']\n  authors?: Metadata['authors']\n  component?: Metadata['component']\n  manufacture?: Metadata['manufacture']\n  supplier?: Metadata['supplier']\n}\n\nexport class Metadata {\n  timestamp?: Date\n  tools: ToolRepository\n  authors: OrganizationalContactRepository\n  component?: Component\n  manufacture?: OrganizationalEntity\n  supplier?: OrganizationalEntity\n\n  constructor (op: OptionalMetadataProperties = {}) {\n    this.timestamp = op.timestamp\n    this.tools = op.tools ?? new ToolRepository()\n    this.authors = op.authors ?? new OrganizationalContactRepository()\n    this.component = op.component\n    this.manufacture = op.manufacture\n    this.supplier = op.supplier\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Comparable } from '../_helpers/sortable'\nimport { SortableComparables } from '../_helpers/sortable'\n\nexport interface OptionalOrganizationalContactProperties {\n  name?: OrganizationalContact['name']\n  email?: OrganizationalContact['email']\n  phone?: OrganizationalContact['phone']\n}\n\nexport class OrganizationalContact implements Comparable<OrganizationalContact> {\n  name?: string\n  email?: string\n  phone?: string\n\n  constructor (op: OptionalOrganizationalContactProperties = {}) {\n    this.name = op.name\n    this.email = op.email\n    this.phone = op.phone\n  }\n\n  compare (other: OrganizationalContact): number {\n    /* eslint-disable @typescript-eslint/strict-boolean-expressions -- run compares in weighted order */\n    return (this.name ?? '').localeCompare(other.name ?? '') ||\n      (this.email ?? '').localeCompare(other.email ?? '') ||\n      (this.phone ?? '').localeCompare(other.phone ?? '')\n    /* eslint-enable @typescript-eslint/strict-boolean-expressions */\n  }\n}\n\nexport class OrganizationalContactRepository extends SortableComparables<OrganizationalContact> {}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Comparable } from '../_helpers/sortable'\nimport { SortableComparables, SortableStringables } from '../_helpers/sortable'\nimport { OrganizationalContactRepository } from './organizationalContact'\n\nexport interface OptionalOrganizationalEntityProperties {\n  name?: OrganizationalEntity['name']\n  url?: OrganizationalEntity['url']\n  contact?: OrganizationalEntity['contact']\n}\n\nexport class OrganizationalEntity implements Comparable<OrganizationalEntity> {\n  name?: string\n  url: Set<URL | string>\n  contact: OrganizationalContactRepository\n\n  constructor (op: OptionalOrganizationalEntityProperties = {}) {\n    this.name = op.name\n    this.url = op.url ?? new Set()\n    this.contact = op.contact ?? new OrganizationalContactRepository()\n  }\n\n  compare (other: OrganizationalEntity): number {\n    /* eslint-disable @typescript-eslint/strict-boolean-expressions -- run compares in weighted order */\n    return (this.name ?? '').localeCompare(other.name ?? '') ||\n      this.contact.compare(other.contact) ||\n      (new SortableStringables(this.url)).compare(new SortableStringables(other.url))\n    /* eslint-enable @typescript-eslint/strict-boolean-expressions */\n  }\n}\n\nexport class OrganizationalEntityRepository extends SortableComparables<OrganizationalEntity> {}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Comparable } from '../_helpers/sortable'\nimport { SortableComparables } from '../_helpers/sortable'\n\n/**\n * @see [CycloneDX Property Taxonomy](https://github.com/CycloneDX/cyclonedx-property-taxonomy)\n */\nexport class Property implements Comparable<Property> {\n  name: string\n  value: string\n\n  constructor (name: Property['name'], value: Property['value']) {\n    this.name = name\n    this.value = value\n  }\n\n  compare (other: Property): number {\n    /* eslint-disable-next-line @typescript-eslint/strict-boolean-expressions -- run compares in weighted order */\n    return this.name.localeCompare(other.name) ||\n      this.value.localeCompare(other.value)\n  }\n}\n\nexport class PropertyRepository extends SortableComparables<Property> {\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { NonNegativeInteger } from '../types'\nimport { isNonNegativeInteger } from '../types'\nimport type { Attachment } from './attachment'\n\nexport interface OptionalSWIDProperties {\n  version?: SWID['version']\n  patch?: SWID['patch']\n  text?: SWID['text']\n  url?: SWID['url']\n  tagVersion?: SWID['tagVersion']\n}\n\n/**\n * @see {@link https://csrc.nist.gov/projects/Software-Identification-SWID | SWID spec}\n */\nexport class SWID {\n  tagId: string\n  name: string\n  version?: string\n  patch?: boolean\n  text?: Attachment\n  url?: URL | string\n\n  /** @see {@link tagVersion} */\n  #tagVersion?: NonNegativeInteger\n\n  /**\n   * @throws {@link TypeError} if `op.tagVersion` is neither {@link NonNegativeInteger} nor `undefined`\n   */\n  constructor (tagId: SWID['tagId'], name: SWID['name'], op: OptionalSWIDProperties = {}) {\n    this.tagId = tagId\n    this.name = name\n    this.version = op.version\n    this.patch = op.patch\n    this.text = op.text\n    this.url = op.url\n    this.tagVersion = op.tagVersion\n  }\n\n  get tagVersion (): NonNegativeInteger | undefined {\n    return this.#tagVersion\n  }\n\n  /**\n   * @throws {@link TypeError} if value is neither {@link NonNegativeInteger} nor `undefined`\n   */\n  set tagVersion (value: NonNegativeInteger | undefined) {\n    if (value !== undefined && !isNonNegativeInteger(value)) {\n      throw new TypeError('Not NonNegativeInteger nor undefined')\n    }\n    this.#tagVersion = value\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Comparable } from '../_helpers/sortable'\nimport { SortableComparables } from '../_helpers/sortable'\nimport { ExternalReferenceRepository } from './externalReference'\nimport { HashDictionary } from './hash'\n\nexport interface OptionalToolProperties {\n  vendor?: Tool['vendor']\n  name?: Tool['name']\n  version?: Tool['version']\n  hashes?: Tool['hashes']\n  externalReferences?: Tool['externalReferences']\n}\n\nexport class Tool implements Comparable<Tool> {\n  vendor?: string\n  name?: string\n  version?: string\n  hashes: HashDictionary\n  externalReferences: ExternalReferenceRepository\n\n  constructor (op: OptionalToolProperties = {}) {\n    this.vendor = op.vendor\n    this.name = op.name\n    this.version = op.version\n    this.hashes = op.hashes ?? new HashDictionary()\n    this.externalReferences = op.externalReferences ?? new ExternalReferenceRepository()\n  }\n\n  compare (other: Tool): number {\n    // The purpose of this method is not to test for equality, but have deterministic comparability.\n    /* eslint-disable @typescript-eslint/strict-boolean-expressions -- run compares in weighted order */\n    return (this.vendor ?? '').localeCompare(other.vendor ?? '') ||\n      (this.name ?? '').localeCompare(other.name ?? '') ||\n      (this.version ?? '').localeCompare(other.version ?? '')\n    /* eslint-enable @typescript-eslint/strict-boolean-expressions */\n  }\n}\n\nexport class ToolRepository extends SortableComparables<Tool> {\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/** @beta */\nexport interface OptionalAdvisoryProperties {\n  title?: Advisory['title']\n}\n\n/** @beta */\nexport class Advisory {\n  title?: string\n  url: string | URL\n\n  constructor (url: string | URL, op: OptionalAdvisoryProperties = {}) {\n    this.url = url\n    this.title = op.title\n  }\n}\n\n/** @beta */\nexport class AdvisoryRepository extends Set<Advisory> {}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { AffectStatus } from '../../enums/vulnerability'\nimport type { BomRef } from '../bomRef'\n\n/** @beta */\nexport interface OptionalAffectProperties {\n  versions?: Affect['versions']\n}\n\n/** @beta */\nexport class Affect {\n  ref: BomRef\n  versions: AffectedVersionRepository\n\n  constructor (ref: BomRef, op: OptionalAffectProperties = {}) {\n    this.ref = ref\n    this.versions = op.versions ?? new AffectedVersionRepository()\n  }\n}\n\n/** @beta */\nexport class AffectRepository extends Set<Affect> {}\n\n/** @beta */\nexport interface OptionalAffectedVersionProperties {\n  status?: AffectedVersion['status']\n}\n\n/** @beta */\nexport class AffectedSingleVersion {\n  version: string\n  status?: AffectStatus\n  constructor (version: string, op: OptionalAffectedVersionProperties = {}) {\n    this.version = version\n    this.status = op.status\n  }\n}\n\n/** @beta */\nexport class AffectedVersionRange {\n  range: string\n  status?: AffectStatus\n\n  constructor (range: string, op: OptionalAffectedVersionProperties = {}) {\n    this.range = range\n    this.status = op.status\n  }\n}\n\n/** @beta */\nexport type AffectedVersion = AffectedSingleVersion | AffectedVersionRange\n\n/** @beta */\nexport class AffectedVersionRepository extends Set<AffectedVersion> {}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { AnalysisJustification, AnalysisState } from '../../enums/vulnerability'\nimport { AnalysisResponseRepository } from '../../enums/vulnerability'\n\n/** @beta */\nexport interface OptionalAnalysisProperties {\n  state?: Analysis['state']\n  justification?: Analysis['justification']\n  response?: Analysis['response']\n  detail?: Analysis['detail']\n}\n\n/** @beta */\nexport class Analysis {\n  state?: AnalysisState\n  justification?: AnalysisJustification\n  response: AnalysisResponseRepository\n  detail?: string\n\n  constructor (op: OptionalAnalysisProperties = {}) {\n    this.state = op.state\n    this.justification = op.justification\n    this.response = op.response ?? new AnalysisResponseRepository()\n    this.detail = op.detail\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { OrganizationalContactRepository } from '../organizationalContact'\nimport { OrganizationalEntityRepository } from '../organizationalEntity'\n\n/** @beta */\nexport interface OptionalCreditsProperties {\n  organizations?: Credits['organizations']\n  individuals?: Credits['individuals']\n}\n\n/** @beta */\nexport class Credits {\n  organizations?: OrganizationalEntityRepository\n  individuals?: OrganizationalContactRepository\n\n  constructor (op: OptionalCreditsProperties = {}) {\n    this.organizations = op.organizations ?? new OrganizationalEntityRepository()\n    this.individuals = op.individuals ?? new OrganizationalContactRepository()\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './advisory'\nexport * from './affect'\nexport * from './analysis'\nexport * from './credits'\nexport * from './rating'\nexport * from './reference'\nexport * from './source'\nexport * from './vulnerability'\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { RatingMethod, Severity } from '../../enums/vulnerability'\nimport type { Source } from './source'\n\n/** @beta */\nexport interface OptionalRatingProperties {\n  source?: Rating['source']\n  score?: Rating['score']\n  severity?: Rating['severity']\n  method?: Rating['method']\n  vector?: Rating['vector']\n  justification?: Rating['justification']\n}\n\n/** @beta */\nexport class Rating {\n  source?: Source\n  score?: number\n  severity?: Severity\n  method?: RatingMethod\n  vector?: string\n  justification?: string\n\n  constructor (op: OptionalRatingProperties = {}) {\n    this.source = op.source\n    this.score = op.score\n    this.severity = op.severity\n    this.method = op.method\n    this.vector = op.vector\n    this.justification = op.justification\n  }\n}\n\n/** @beta */\nexport class RatingRepository extends Set<Rating> {\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Source } from './source'\n\n/**\n * @privateRemarks\n * The model is built based on the JSON spec, which has all properties mandatory.\n * In contrast to the XML spec, which has them optional.\n * see https://github.com/CycloneDX/specification/issues/154\n *\n * @beta\n */\nexport class Reference {\n  /**\n   * @example values\n   * - `CVE-2021-39182`\n   * - `GHSA-35m5-8cvj-8783`\n   * - `SNYK-PYTHON-ENROCRYPT-1912876`\n   */\n  id: string\n  source: Source\n\n  constructor (id: string, source: Source) {\n    this.id = id\n    this.source = source\n  }\n}\n\n/** @beta */\nexport class ReferenceRepository extends Set<Reference> {}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/** @beta */\nexport interface OptionalSourceProperties {\n  name?: Source['name']\n  url?: Source['url']\n}\n\n/** @beta */\nexport class Source {\n  name?: string\n  url?: URL | string\n\n  constructor (op: OptionalSourceProperties = {}) {\n    this.name = op.name\n    this.url = op.url\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { CweRepository } from '../../types'\nimport { BomRef } from '../bomRef'\nimport { PropertyRepository } from '../property'\nimport { ToolRepository } from '../tool'\nimport { AdvisoryRepository } from './advisory'\nimport { AffectRepository } from './affect'\nimport type { Analysis } from './analysis'\nimport type { Credits } from './credits'\nimport { RatingRepository } from './rating'\nimport { ReferenceRepository } from './reference'\nimport type { Source } from './source'\n\n/** @beta */\nexport interface OptionalVulnerabilityProperties {\n  bomRef?: BomRef['value']\n  id?: Vulnerability['id']\n  source?: Vulnerability['source']\n  references?: Vulnerability['references']\n  ratings?: Vulnerability['ratings']\n  cwes?: Vulnerability['cwes']\n  description?: Vulnerability['description']\n  detail?: Vulnerability['detail']\n  recommendation?: Vulnerability['recommendation']\n  advisories?: Vulnerability['advisories']\n  created?: Vulnerability['created']\n  published?: Vulnerability['published']\n  updated?: Vulnerability['updated']\n  credits?: Vulnerability['credits']\n  tools?: Vulnerability['tools']\n  analysis?: Vulnerability['analysis']\n  affects?: Vulnerability['affects']\n  properties?: Vulnerability['properties']\n}\n\n/** @beta */\nexport class Vulnerability {\n  /** @see bomRef */\n  readonly #bomRef: BomRef\n  id?: string\n  source?: Source\n  references: ReferenceRepository\n  ratings: RatingRepository\n  cwes: CweRepository\n  description?: string\n  detail?: string\n  recommendation?: string\n  advisories: AdvisoryRepository\n  created?: Date\n  published?: Date\n  updated?: Date\n  credits?: Credits\n  tools: ToolRepository\n  analysis?: Analysis\n  affects: AffectRepository\n  properties: PropertyRepository\n\n  constructor (op: OptionalVulnerabilityProperties = {}) {\n    this.#bomRef = new BomRef(op.bomRef)\n    this.id = op.id\n    this.source = op.source\n    this.references = op.references ?? new ReferenceRepository()\n    this.ratings = op.ratings ?? new RatingRepository()\n    this.cwes = op.cwes ?? new CweRepository()\n    this.description = op.description\n    this.detail = op.detail\n    this.recommendation = op.recommendation\n    this.advisories = op.advisories ?? new AdvisoryRepository()\n    this.created = op.created\n    this.published = op.published\n    this.updated = op.updated\n    this.credits = op.credits\n    this.tools = op.tools ?? new ToolRepository()\n    this.analysis = op.analysis\n    this.affects = op.affects ?? new AffectRepository()\n    this.properties = op.properties ?? new PropertyRepository()\n  }\n\n  get bomRef (): BomRef {\n    return this.#bomRef\n  }\n}\n\n/** @beta */\nexport class VulnerabilityRepository extends Set<Vulnerability> {}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Bom, BomRef, Component } from '../models'\nimport { BomRefDiscriminator } from './bomRefDiscriminator'\nimport type { NormalizerOptions, Serializer, SerializerOptions } from './types'\n\nexport abstract class BaseSerializer<NormalizedBom> implements Serializer {\n  #getAllBomRefs (bom: Bom): Iterable<BomRef> {\n    const bomRefs = new Set<BomRef>()\n    function iterComponents (cs: Iterable<Component>): void {\n      for (const { bomRef, components } of cs) {\n        bomRefs.add(bomRef)\n        iterComponents(components)\n      }\n    }\n\n    if (bom.metadata.component !== undefined) {\n      bomRefs.add(bom.metadata.component.bomRef)\n      iterComponents(bom.metadata.component.components)\n    }\n    iterComponents(bom.components)\n\n    return bomRefs.values()\n  }\n\n  /**\n   * @throws {@link Error}\n   */\n  #normalize (bom: Bom, options?: NormalizerOptions): NormalizedBom {\n    const bomRefDiscriminator = new BomRefDiscriminator(this.#getAllBomRefs(bom))\n    bomRefDiscriminator.discriminate()\n    // This IS NOT the place to put meaning to the BomRef values. This would be out of scope.\n    // This IS the place to make BomRef values (temporary) unique in their own document scope.\n    try {\n      return this._normalize(bom, options)\n    } finally {\n      bomRefDiscriminator.reset()\n    }\n  }\n\n  /**\n   * @readonly\n   * @throws {@link Error}\n   */\n  public serialize (bom: Bom, options?: SerializerOptions & NormalizerOptions): string {\n    return this._serialize(\n      this.#normalize(bom, options),\n      options\n    )\n  }\n\n  /**\n   * @throws {@link Error}\n   */\n  protected abstract _normalize (bom: Bom, options?: NormalizerOptions): NormalizedBom\n\n  /**\n   * @throws {@link Error}\n   */\n  protected abstract _serialize (normalizedBom: NormalizedBom, options?: SerializerOptions): string\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { BomRef } from '../models'\n\nexport class BomRefDiscriminator {\n  readonly #originalValues: ReadonlyMap<BomRef, string | undefined>\n\n  readonly #prefix: string\n\n  constructor (bomRefs: Iterable<BomRef>, prefix: string = 'BomRef') {\n    this.#originalValues = new Map(\n      Array.from(bomRefs, r => [r, r.value])\n    )\n    this.#prefix = prefix\n  }\n\n  get prefix (): string {\n    return this.#prefix\n  }\n\n  /** Iterate over the bomRefs. */\n  [Symbol.iterator] (): IterableIterator<BomRef> {\n    return this.#originalValues.keys()\n  }\n\n  discriminate (): void {\n    const knownRefValues = new Set<string>()\n    for (const [bomRef] of this.#originalValues) {\n      let value = bomRef.value\n      if (value === undefined || knownRefValues.has(value)) {\n        value = this.#makeUniqueId()\n        bomRef.value = value\n      }\n      knownRefValues.add(value)\n    }\n  }\n\n  reset (): void {\n    for (const [bomRef, originalValue] of this.#originalValues) {\n      bomRef.value = originalValue\n    }\n  }\n\n  /**\n   * generate a string in the format:\n   * `${this.prefix}.<random-characters>.<random-characters>`\n   */\n  #makeUniqueId (): string {\n    return `${\n      this.#prefix\n    }${\n      Math.random().toString(32).substring(1)\n    }${\n      Math.random().toString(32).substring(1)\n    }`\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n// !!! not everything is public, yet\n\nexport * from './bomRefDiscriminator'\nexport * as Types from './types'\n\n// region base\n\nexport * from './baseSerializer'\n// export * from './baseDeserializer' // @TODO\n\n// endregion base\n\n// region JSON\n\nexport * as JSON from './json'\nexport * from './jsonSerializer'\n// export * from './jsonDeserializer' // @TODO\n\n// endregion JSON\n\n// region XML\n\nexport * as XML from './xml'\nexport * from './xmlBaseSerializer'\n// export * from './xmlBaseDeserializer' // @TODO\n\n// endregion XML\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './index.common'\n\n// region web-specifics\n\nexport * from './xmlSerializer.web'\n// export * from './xmlDeserializer.web' // @TODO\n\n// endregion web-specifics\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * as Normalize from './normalize'\nexport * as Types from './types'\n// export * as Denormalize from './denormalize' // @TODO\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { isNotUndefined } from '../../_helpers/notUndefined'\nimport type { SortableIterable } from '../../_helpers/sortable'\nimport type { Stringable } from '../../_helpers/stringable'\nimport { treeIteratorSymbol } from '../../_helpers/tree'\nimport * as Models from '../../models'\nimport type { Protocol as Spec } from '../../spec'\nimport { Version as SpecVersion } from '../../spec'\nimport type { NormalizerOptions } from '../types'\nimport type { Normalized } from './types'\nimport { JsonSchema } from './types'\n\nexport class Factory {\n  readonly #spec: Spec\n\n  constructor (spec: Factory['spec']) {\n    this.#spec = spec\n  }\n\n  get spec (): Spec {\n    return this.#spec\n  }\n\n  makeForBom (): BomNormalizer {\n    return new BomNormalizer(this)\n  }\n\n  makeForMetadata (): MetadataNormalizer {\n    return new MetadataNormalizer(this)\n  }\n\n  makeForComponent (): ComponentNormalizer {\n    return new ComponentNormalizer(this)\n  }\n\n  makeForTool (): ToolNormalizer {\n    return new ToolNormalizer(this)\n  }\n\n  makeForOrganizationalContact (): OrganizationalContactNormalizer {\n    return new OrganizationalContactNormalizer(this)\n  }\n\n  makeForOrganizationalEntity (): OrganizationalEntityNormalizer {\n    return new OrganizationalEntityNormalizer(this)\n  }\n\n  makeForHash (): HashNormalizer {\n    return new HashNormalizer(this)\n  }\n\n  makeForLicense (): LicenseNormalizer {\n    return new LicenseNormalizer(this)\n  }\n\n  makeForSWID (): SWIDNormalizer {\n    return new SWIDNormalizer(this)\n  }\n\n  makeForExternalReference (): ExternalReferenceNormalizer {\n    return new ExternalReferenceNormalizer(this)\n  }\n\n  makeForAttachment (): AttachmentNormalizer {\n    return new AttachmentNormalizer(this)\n  }\n\n  makeForProperty (): PropertyNormalizer {\n    return new PropertyNormalizer(this)\n  }\n\n  makeForDependencyGraph (): DependencyGraphNormalizer {\n    return new DependencyGraphNormalizer(this)\n  }\n}\n\nconst schemaUrl: ReadonlyMap<SpecVersion, string> = new Map([\n  [SpecVersion.v1dot2, 'http://cyclonedx.org/schema/bom-1.2b.schema.json'],\n  [SpecVersion.v1dot3, 'http://cyclonedx.org/schema/bom-1.3a.schema.json'],\n  [SpecVersion.v1dot4, 'http://cyclonedx.org/schema/bom-1.4.schema.json']\n])\n\ninterface JsonNormalizer<TModel, TNormalized> {\n  normalize: (data: TModel, options: NormalizerOptions) => TNormalized | undefined\n\n  /** @since 1.5.1 */\n  normalizeIterable?: (data: SortableIterable<TModel>, options: NormalizerOptions) => TNormalized[]\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository?: ['normalizeIterable']\n}\n\nabstract class BaseJsonNormalizer<TModel, TNormalized=object> implements JsonNormalizer<TModel, TNormalized> {\n  protected readonly _factory: Factory\n\n  constructor (factory: Factory) {\n    this._factory = factory\n  }\n\n  get factory (): Factory {\n    return this._factory\n  }\n\n  abstract normalize (data: TModel, options: NormalizerOptions): TNormalized | undefined\n}\n\n/* eslint-disable @typescript-eslint/prefer-nullish-coalescing, @typescript-eslint/strict-boolean-expressions --\n * since empty strings need to be treated as undefined/null\n */\n\nexport class BomNormalizer extends BaseJsonNormalizer<Models.Bom> {\n  normalize (data: Models.Bom, options: NormalizerOptions): Normalized.Bom {\n    return {\n      $schema: schemaUrl.get(this._factory.spec.version),\n      bomFormat: 'CycloneDX',\n      specVersion: this._factory.spec.version,\n      version: data.version,\n      serialNumber: this.#isEligibleSerialNumber(data.serialNumber)\n        ? data.serialNumber\n        : undefined,\n      metadata: this._factory.makeForMetadata().normalize(data.metadata, options),\n      components: data.components.size > 0\n        ? this._factory.makeForComponent().normalizeIterable(data.components, options)\n        // spec < 1.4 requires `component` to be array\n        : [],\n      dependencies: this._factory.spec.supportsDependencyGraph\n        ? this._factory.makeForDependencyGraph().normalize(data, options)\n        : undefined\n    }\n  }\n\n  #isEligibleSerialNumber (v: string | undefined): boolean {\n    return v !== undefined &&\n      // see https://github.com/CycloneDX/specification/blob/ef71717ae0ecb564c0b4c9536d6e9e57e35f2e69/schema/bom-1.4.schema.json#L39\n      /^urn:uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(v)\n  }\n}\n\nexport class MetadataNormalizer extends BaseJsonNormalizer<Models.Metadata> {\n  normalize (data: Models.Metadata, options: NormalizerOptions): Normalized.Metadata {\n    const orgEntityNormalizer = this._factory.makeForOrganizationalEntity()\n    return {\n      timestamp: data.timestamp?.toISOString(),\n      tools: data.tools.size > 0\n        ? this._factory.makeForTool().normalizeIterable(data.tools, options)\n        : undefined,\n      authors: data.authors.size > 0\n        ? this._factory.makeForOrganizationalContact().normalizeIterable(data.authors, options)\n        : undefined,\n      component: data.component === undefined\n        ? undefined\n        : this._factory.makeForComponent().normalize(data.component, options),\n      manufacture: data.manufacture === undefined\n        ? undefined\n        : orgEntityNormalizer.normalize(data.manufacture, options),\n      supplier: data.supplier === undefined\n        ? undefined\n        : orgEntityNormalizer.normalize(data.supplier, options)\n    }\n  }\n}\n\nexport class ToolNormalizer extends BaseJsonNormalizer<Models.Tool> {\n  normalize (data: Models.Tool, options: NormalizerOptions): Normalized.Tool {\n    return {\n      vendor: data.vendor || undefined,\n      name: data.name || undefined,\n      version: data.version || undefined,\n      hashes: data.hashes.size > 0\n        ? this._factory.makeForHash().normalizeIterable(data.hashes, options)\n        : undefined,\n      externalReferences: this._factory.spec.supportsToolReferences && data.externalReferences.size > 0\n        ? this._factory.makeForExternalReference().normalizeIterable(data.externalReferences, options)\n        : undefined\n    }\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.Tool>, options: NormalizerOptions): Normalized.Tool[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(t => this.normalize(t, options))\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class HashNormalizer extends BaseJsonNormalizer<Models.Hash> {\n  normalize ([algorithm, content]: Models.Hash, options: NormalizerOptions): Normalized.Hash | undefined {\n    const spec = this._factory.spec\n    return spec.supportsHashAlgorithm(algorithm) && spec.supportsHashValue(content)\n      ? {\n          alg: algorithm,\n          content\n        }\n      : undefined\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.Hash>, options: NormalizerOptions): Normalized.Hash[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(\n      h => this.normalize(h, options)\n    ).filter(isNotUndefined)\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class OrganizationalContactNormalizer extends BaseJsonNormalizer<Models.OrganizationalContact> {\n  normalize (data: Models.OrganizationalContact, options: NormalizerOptions): Normalized.OrganizationalContact {\n    return {\n      name: data.name || undefined,\n      email: JsonSchema.isIdnEmail(data.email)\n        ? data.email\n        : undefined,\n      phone: data.phone || undefined\n    }\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.OrganizationalContact>, options: NormalizerOptions): Normalized.OrganizationalContact[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(c => this.normalize(c, options))\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class OrganizationalEntityNormalizer extends BaseJsonNormalizer<Models.OrganizationalEntity> {\n  normalize (data: Models.OrganizationalEntity, options: NormalizerOptions): Normalized.OrganizationalEntity {\n    const urls = normalizeStringableIter(data.url, options)\n      .filter(JsonSchema.isIriReference)\n    return {\n      name: data.name || undefined,\n      url: urls.length > 0\n        ? urls\n        : undefined,\n      contact: data.contact.size > 0\n        ? this._factory.makeForOrganizationalContact().normalizeIterable(data.contact, options)\n        : undefined\n    }\n  }\n}\n\nexport class ComponentNormalizer extends BaseJsonNormalizer<Models.Component> {\n  normalize (data: Models.Component, options: NormalizerOptions): Normalized.Component | undefined {\n    const spec = this._factory.spec\n    const version: string = data.version ?? ''\n    return spec.supportsComponentType(data.type)\n      ? {\n          type: data.type,\n          name: data.name,\n          group: data.group || undefined,\n          version: version.length > 0 || spec.requiresComponentVersion\n            ? version\n            : undefined,\n          'bom-ref': data.bomRef.value || undefined,\n          supplier: data.supplier === undefined\n            ? undefined\n            : this._factory.makeForOrganizationalEntity().normalize(data.supplier, options),\n          author: data.author || undefined,\n          publisher: data.publisher || undefined,\n          description: data.description || undefined,\n          scope: data.scope,\n          hashes: data.hashes.size > 0\n            ? this._factory.makeForHash().normalizeIterable(data.hashes, options)\n            : undefined,\n          licenses: data.licenses.size > 0\n            ? this._factory.makeForLicense().normalizeIterable(data.licenses, options)\n            : undefined,\n          copyright: data.copyright || undefined,\n          cpe: data.cpe || undefined,\n          purl: data.purl?.toString(),\n          swid: data.swid === undefined\n            ? undefined\n            : this._factory.makeForSWID().normalize(data.swid, options),\n          externalReferences: data.externalReferences.size > 0\n            ? this._factory.makeForExternalReference().normalizeIterable(data.externalReferences, options)\n            : undefined,\n          properties: spec.supportsProperties(data) && data.properties.size > 0\n            ? this._factory.makeForProperty().normalizeIterable(data.properties, options)\n            : undefined,\n          components: data.components.size > 0\n            ? this.normalizeIterable(data.components, options)\n            : undefined\n        }\n      : undefined\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.Component>, options: NormalizerOptions): Normalized.Component[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(\n      c => this.normalize(c, options)\n    ).filter(isNotUndefined)\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class LicenseNormalizer extends BaseJsonNormalizer<Models.License> {\n  normalize (data: Models.License, options: NormalizerOptions): Normalized.License {\n    switch (true) {\n      case data instanceof Models.NamedLicense:\n        return this.#normalizeNamedLicense(data as Models.NamedLicense, options)\n      case data instanceof Models.SpdxLicense:\n        return this.#normalizeSpdxLicense(data as Models.SpdxLicense, options)\n      case data instanceof Models.LicenseExpression:\n        return this.#normalizeLicenseExpression(data as Models.LicenseExpression)\n      /* c8 ignore start */\n      default:\n        // this case is not expected to happen - and therefore is undocumented\n        throw new TypeError('Unexpected LicenseChoice')\n      /* c8 ignore end */\n    }\n  }\n\n  #normalizeNamedLicense (data: Models.NamedLicense, options: NormalizerOptions): Normalized.NamedLicense {\n    return {\n      license: {\n        name: data.name,\n        text: data.text === undefined\n          ? undefined\n          : this._factory.makeForAttachment().normalize(data.text, options),\n        url: data.url?.toString()\n      }\n    }\n  }\n\n  #normalizeSpdxLicense (data: Models.SpdxLicense, options: NormalizerOptions): Normalized.SpdxLicense {\n    return {\n      license: {\n        id: data.id,\n        text: data.text === undefined\n          ? undefined\n          : this._factory.makeForAttachment().normalize(data.text, options),\n        url: data.url?.toString()\n      }\n    }\n  }\n\n  #normalizeLicenseExpression (data: Models.LicenseExpression): Normalized.LicenseExpression {\n    return {\n      expression: data.expression\n    }\n  }\n\n  /**\n   * If there is any {@link Models.LicenseExpression | LicenseExpression} in the set, then this is the only item that is normalized.\n   *\n   * @since 1.5.1\n   */\n  normalizeIterable (data: SortableIterable<Models.License>, options: NormalizerOptions): Normalized.License[] {\n    const licenses = options.sortLists ?? false\n      ? data.sorted()\n      : Array.from(data)\n\n    if (licenses.length > 1) {\n      const expressions = licenses.filter(l => l instanceof Models.LicenseExpression) as Models.LicenseExpression[]\n      if (expressions.length > 0) {\n        // could have thrown {@link RangeError} when there is more than one only {@link Models.LicenseExpression | LicenseExpression}.\n        // but let's be graceful and just normalize to the most relevant choice: any expression\n        return [this.#normalizeLicenseExpression(expressions[0])]\n      }\n    }\n\n    return licenses.map(l => this.normalize(l, options))\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class SWIDNormalizer extends BaseJsonNormalizer<Models.SWID> {\n  normalize (data: Models.SWID, options: NormalizerOptions): Normalized.SWID {\n    const url = data.url?.toString()\n    return {\n      tagId: data.tagId,\n      name: data.name,\n      version: data.version || undefined,\n      tagVersion: data.tagVersion,\n      patch: data.patch,\n      text: data.text === undefined\n        ? undefined\n        : this._factory.makeForAttachment().normalize(data.text, options),\n      url: JsonSchema.isIriReference(url)\n        ? url\n        : undefined\n    }\n  }\n}\n\nexport class ExternalReferenceNormalizer extends BaseJsonNormalizer<Models.ExternalReference> {\n  normalize (data: Models.ExternalReference, options: NormalizerOptions): Normalized.ExternalReference | undefined {\n    return this._factory.spec.supportsExternalReferenceType(data.type)\n      ? {\n          url: data.url.toString(),\n          type: data.type,\n          comment: data.comment || undefined\n        }\n      : undefined\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.ExternalReference>, options: NormalizerOptions): Normalized.ExternalReference[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(\n      r => this.normalize(r, options)\n    ).filter(isNotUndefined)\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class AttachmentNormalizer extends BaseJsonNormalizer<Models.Attachment> {\n  normalize (data: Models.Attachment, options: NormalizerOptions): Normalized.Attachment {\n    return {\n      content: data.content,\n      contentType: data.contentType || undefined,\n      encoding: data.encoding\n    }\n  }\n}\n\nexport class PropertyNormalizer extends BaseJsonNormalizer<Models.Property> {\n  normalize (data: Models.Property, options: NormalizerOptions): Normalized.Property {\n    return {\n      name: data.name,\n      value: data.value\n    }\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.Property>, options: NormalizerOptions): Normalized.Property[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(p => this.normalize(p, options))\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class DependencyGraphNormalizer extends BaseJsonNormalizer<Models.Bom> {\n  normalize (data: Models.Bom, options: NormalizerOptions): Normalized.Dependency[] | undefined {\n    const allRefs = new Map<Models.BomRef, Models.BomRefRepository>()\n    if (data.metadata.component !== undefined) {\n      allRefs.set(data.metadata.component.bomRef, data.metadata.component.dependencies)\n      for (const component of data.metadata.component.components[treeIteratorSymbol]()) {\n        allRefs.set(component.bomRef, component.dependencies)\n      }\n    }\n    for (const component of data.components[treeIteratorSymbol]()) {\n      allRefs.set(component.bomRef, component.dependencies)\n    }\n\n    const normalized: Normalized.Dependency[] = []\n    for (const [ref, deps] of allRefs) {\n      const dep = this.#normalizeDependency(ref, deps, allRefs, options)\n      if (isNotUndefined(dep)) {\n        normalized.push(dep)\n      }\n    }\n\n    if (options.sortLists ?? false) {\n      normalized.sort(({ ref: a }, { ref: b }) => a.localeCompare(b))\n    }\n\n    return normalized\n  }\n\n  #normalizeDependency (\n    ref: Models.BomRef,\n    deps: Models.BomRefRepository,\n    allRefs: Map<Models.BomRef, Models.BomRefRepository>,\n    options: NormalizerOptions\n  ): Normalized.Dependency | undefined {\n    const bomRef = ref.toString()\n    if (bomRef.length === 0) {\n      // no value -> cannot render\n      return undefined\n    }\n\n    const dependsOn: string[] = normalizeStringableIter(\n      Array.from(deps).filter(d => allRefs.has(d) && d !== ref),\n      options\n    ).filter(d => d.length > 0)\n\n    return {\n      ref: bomRef,\n      dependsOn: dependsOn.length > 0\n        ? dependsOn\n        : undefined\n    }\n  }\n}\n\n/* eslint-enable @typescript-eslint/prefer-nullish-coalescing, @typescript-eslint/strict-boolean-expressions */\n\nfunction normalizeStringableIter (data: Iterable<Stringable>, options: NormalizerOptions): string[] {\n  const r: string[] = Array.from(data, d => d.toString())\n  if (options.sortLists ?? false) {\n    r.sort((a, b) => a.localeCompare(b))\n  }\n  return r\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type * as Enums from '../../enums'\nimport type { HashContent } from '../../models'\nimport type { SpdxId } from '../../spdx'\nimport type { CPE, Integer } from '../../types'\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace JsonSchema {\n\n  /**\n   * @see {@link isIriReference}\n   */\n  export type IriReference = string\n  /**\n   * Test whether format is JSON::iri-reference - best-effort.\n   *\n   * @see {@link https://datatracker.ietf.org/doc/html/rfc3987 | RFC 3987}\n   *\n   * @TODO add more validation according to spec\n   */\n  export function isIriReference (value: IriReference | any): value is IriReference {\n    // There is just no working implementation for format \"iri-reference\": see https://github.com/luzlab/ajv-formats-draft2019/issues/22\n    return typeof value === 'string' &&\n      value.length > 0\n  }\n\n  /**\n   * @see {@link isIdnEmail}\n   */\n  export type IdnEmail = string\n  /**\n   * Test whether format is JSON::idn-email - best-effort.\n   *\n   * @see {@link https://datatracker.ietf.org/doc/html/rfc6531 | RFC 6531}\n   *\n   * @TODO add more validation according to spec\n   */\n  export function isIdnEmail (value: IdnEmail | any): value is IdnEmail {\n    return typeof value === 'string' &&\n      value.length > 0\n  }\n\n  export type DateTime = string\n\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace Normalized {\n\n  export type RefType = string\n\n  export interface Bom {\n    $schema?: string\n    bomFormat: 'CycloneDX'\n    specVersion: string\n    version: Integer\n    serialNumber?: string\n    metadata?: Metadata\n    components?: Component[]\n    externalReferences?: ExternalReference[]\n    dependencies?: Dependency[]\n  }\n\n  export interface Metadata {\n    timestamp?: JsonSchema.DateTime\n    tools?: Tool[]\n    authors?: OrganizationalContact[]\n    component?: Component\n    manufacture?: OrganizationalEntity\n    supplier?: OrganizationalEntity\n    licenses?: License[]\n  }\n\n  export interface Tool {\n    vendor?: string\n    name?: string\n    version?: string\n    hashes?: Hash[]\n    externalReferences?: ExternalReference[]\n  }\n\n  export interface OrganizationalContact {\n    name?: string\n    email?: JsonSchema.IdnEmail\n    phone?: string\n  }\n\n  export interface OrganizationalEntity {\n    name?: string\n    url?: JsonSchema.IriReference[]\n    contact?: OrganizationalContact[]\n  }\n\n  export interface Hash {\n    alg: Enums.HashAlgorithm\n    content: HashContent\n  }\n\n  export interface Component {\n    type: Enums.ComponentType\n    name: string\n    'mime-type'?: string\n    'bom-ref'?: RefType\n    supplier?: OrganizationalEntity\n    author?: string\n    publisher?: string\n    group?: string\n    version?: string\n    description?: string\n    scope?: Enums.ComponentScope\n    hashes?: Hash[]\n    licenses?: License[]\n    copyright?: string\n    cpe?: CPE\n    purl?: string\n    swid?: SWID\n    modified?: boolean\n    externalReferences?: ExternalReference[]\n    components?: Component[]\n    properties?: Property[]\n  }\n\n  export interface NamedLicense {\n    license: {\n      name: string\n      text?: Attachment\n      url?: string\n    }\n  }\n\n  export interface SpdxLicense {\n    license: {\n      /* see http://cyclonedx.org/schema/spdx */\n      id: SpdxId\n      text?: Attachment\n      url?: string\n    }\n  }\n\n  export interface LicenseExpression {\n    expression: string\n  }\n\n  export type License = NamedLicense | SpdxLicense | LicenseExpression\n\n  export interface SWID {\n    tagId: string\n    name: string\n    version?: string\n    tagVersion?: Integer\n    patch?: boolean\n    text?: Attachment\n    url?: JsonSchema.IriReference\n  }\n\n  export interface ExternalReference {\n    url: string\n    type: Enums.ExternalReferenceType\n    comment?: string\n  }\n\n  export interface Attachment {\n    content?: string\n    contentType?: string\n    encoding?: Enums.AttachmentEncoding\n  }\n\n  export interface Property {\n    name?: string\n    value?: string\n  }\n\n  export interface Dependency {\n    ref: RefType\n    dependsOn?: RefType[]\n  }\n\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Bom } from '../models'\nimport { Format, UnsupportedFormatError } from '../spec'\nimport { BaseSerializer } from './baseSerializer'\nimport type { Factory as NormalizerFactory } from './json/normalize'\nimport type { Normalized } from './json/types'\nimport type { NormalizerOptions, SerializerOptions } from './types'\n\n/**\n * Multi purpose Json serializer.\n */\nexport class JsonSerializer extends BaseSerializer<Normalized.Bom> {\n  readonly #normalizerFactory: NormalizerFactory\n\n  /**\n   * @throws {@link UnsupportedFormatError} if `normalizerFactory.spec` does not support {@link Format.JSON}.\n   */\n  constructor (normalizerFactory: JsonSerializer['normalizerFactory']) {\n    if (!normalizerFactory.spec.supportsFormat(Format.JSON)) {\n      throw new UnsupportedFormatError('Spec does not support JSON format.')\n    }\n\n    super()\n    this.#normalizerFactory = normalizerFactory\n  }\n\n  get normalizerFactory (): NormalizerFactory {\n    return this.#normalizerFactory\n  }\n\n  protected _normalize (\n    bom: Bom,\n    options: NormalizerOptions = {}\n  ): Normalized.Bom {\n    return this.#normalizerFactory.makeForBom()\n      .normalize(bom, options)\n  }\n\n  protected _serialize (\n    bom: Normalized.Bom,\n    { space }: SerializerOptions = {}\n  ): string {\n    return JSON.stringify(bom, null, space)\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * as Normalize from './normalize'\nexport * as Types from './types'\n// export * as Denormalize from './denormalize' // @TODO\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { isNotUndefined } from '../../_helpers/notUndefined'\nimport type { SortableIterable } from '../../_helpers/sortable'\nimport type { Stringable } from '../../_helpers/stringable'\nimport { treeIteratorSymbol } from '../../_helpers/tree'\nimport * as Models from '../../models'\nimport type { Protocol as Spec } from '../../spec'\nimport { Version as SpecVersion } from '../../spec'\nimport type { NormalizerOptions } from '../types'\nimport type { SimpleXml } from './types'\nimport { XmlSchema } from './types'\n\nexport class Factory {\n  readonly #spec: Spec\n\n  constructor (spec: Factory['spec']) {\n    this.#spec = spec\n  }\n\n  get spec (): Spec {\n    return this.#spec\n  }\n\n  makeForBom (): BomNormalizer {\n    return new BomNormalizer(this)\n  }\n\n  makeForMetadata (): MetadataNormalizer {\n    return new MetadataNormalizer(this)\n  }\n\n  makeForComponent (): ComponentNormalizer {\n    return new ComponentNormalizer(this)\n  }\n\n  makeForTool (): ToolNormalizer {\n    return new ToolNormalizer(this)\n  }\n\n  makeForOrganizationalContact (): OrganizationalContactNormalizer {\n    return new OrganizationalContactNormalizer(this)\n  }\n\n  makeForOrganizationalEntity (): OrganizationalEntityNormalizer {\n    return new OrganizationalEntityNormalizer(this)\n  }\n\n  makeForHash (): HashNormalizer {\n    return new HashNormalizer(this)\n  }\n\n  makeForLicense (): LicenseNormalizer {\n    return new LicenseNormalizer(this)\n  }\n\n  makeForSWID (): SWIDNormalizer {\n    return new SWIDNormalizer(this)\n  }\n\n  makeForExternalReference (): ExternalReferenceNormalizer {\n    return new ExternalReferenceNormalizer(this)\n  }\n\n  makeForAttachment (): AttachmentNormalizer {\n    return new AttachmentNormalizer(this)\n  }\n\n  makeForProperty (): PropertyNormalizer {\n    return new PropertyNormalizer(this)\n  }\n\n  makeForDependencyGraph (): DependencyGraphNormalizer {\n    return new DependencyGraphNormalizer(this)\n  }\n}\n\nconst xmlNamespace: ReadonlyMap<SpecVersion, string> = new Map([\n  [SpecVersion.v1dot2, 'http://cyclonedx.org/schema/bom/1.2'],\n  [SpecVersion.v1dot3, 'http://cyclonedx.org/schema/bom/1.3'],\n  [SpecVersion.v1dot4, 'http://cyclonedx.org/schema/bom/1.4']\n])\n\ninterface XmlNormalizer<TModel, TNormalized> {\n  normalize: (data: TModel, options: NormalizerOptions, elementName?: string) => TNormalized | undefined\n\n  /** @since 1.5.1 */\n  normalizeIterable?: (data: SortableIterable<TModel>, options: NormalizerOptions, elementName: string) => TNormalized[]\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository?: ['normalizeIterable']\n}\n\nabstract class BaseXmlNormalizer<TModel, TNormalized=SimpleXml.Element> implements XmlNormalizer<TModel, TNormalized> {\n  protected readonly _factory: Factory\n\n  constructor (factory: Factory) {\n    this._factory = factory\n  }\n\n  get factory (): Factory {\n    return this._factory\n  }\n\n  /**\n   * @param elementName - element name. XML defines structures; the element's name is defined on usage of a structure.\n   */\n  abstract normalize (data: TModel, options: NormalizerOptions, elementName?: string): TNormalized | undefined\n}\n\n/* eslint-disable @typescript-eslint/prefer-nullish-coalescing, @typescript-eslint/strict-boolean-expressions --\n * since empty strings need to be treated as undefined/null\n */\n\nexport class BomNormalizer extends BaseXmlNormalizer<Models.Bom> {\n  normalize (data: Models.Bom, options: NormalizerOptions): SimpleXml.Element {\n    const components: SimpleXml.Element = {\n      // spec < 1.4 always requires a 'components' element\n      type: 'element',\n      name: 'components',\n      children: data.components.size > 0\n        ? this._factory.makeForComponent().normalizeIterable(data.components, options, 'component')\n        : undefined\n    }\n    return {\n      type: 'element',\n      // the element's name is hardcoded in the XSD\n      name: 'bom',\n      namespace: xmlNamespace.get(this._factory.spec.version),\n      attributes: {\n        version: data.version,\n        serialNumber: this.#isEligibleSerialNumber(data.serialNumber)\n          ? data.serialNumber\n          : undefined\n      },\n      children: [\n        data.metadata\n          ? this._factory.makeForMetadata().normalize(data.metadata, options, 'metadata')\n          : undefined,\n        components,\n        this._factory.spec.supportsDependencyGraph\n          ? this._factory.makeForDependencyGraph().normalize(data, options, 'dependencies')\n          : undefined\n      ].filter(isNotUndefined)\n    }\n  }\n\n  #isEligibleSerialNumber (v: string | undefined): boolean {\n    return v !== undefined &&\n      // see https://github.com/CycloneDX/specification/blob/ef71717ae0ecb564c0b4c9536d6e9e57e35f2e69/schema/bom-1.4.xsd#L699\n      /^urn:uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$|^\\{[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\}$/.test(v)\n  }\n}\n\nexport class MetadataNormalizer extends BaseXmlNormalizer<Models.Metadata> {\n  normalize (data: Models.Metadata, options: NormalizerOptions, elementName: string): SimpleXml.Element {\n    const orgEntityNormalizer = this._factory.makeForOrganizationalEntity()\n    const timestamp: SimpleXml.Element | undefined = data.timestamp === undefined\n      ? undefined\n      : {\n          type: 'element',\n          name: 'timestamp',\n          children: data.timestamp.toISOString()\n        }\n    const tools: SimpleXml.Element | undefined = data.tools.size > 0\n      ? {\n          type: 'element',\n          name: 'tools',\n          children: this._factory.makeForTool().normalizeIterable(data.tools, options, 'tool')\n        }\n      : undefined\n    const authors: SimpleXml.Element | undefined = data.authors.size > 0\n      ? {\n          type: 'element',\n          name: 'authors',\n          children: this._factory.makeForOrganizationalContact()\n            .normalizeIterable(data.authors, options, 'author')\n        }\n      : undefined\n    return {\n      type: 'element',\n      name: elementName,\n      children: [\n        timestamp,\n        tools,\n        authors,\n        data.component === undefined\n          ? undefined\n          : this._factory.makeForComponent().normalize(data.component, options, 'component'),\n        data.manufacture === undefined\n          ? undefined\n          : orgEntityNormalizer.normalize(data.manufacture, options, 'manufacture'),\n        data.supplier === undefined\n          ? undefined\n          : orgEntityNormalizer.normalize(data.supplier, options, 'supplier')\n      ].filter(isNotUndefined)\n    }\n  }\n}\n\nexport class ToolNormalizer extends BaseXmlNormalizer<Models.Tool> {\n  normalize (data: Models.Tool, options: NormalizerOptions, elementName: string): SimpleXml.Element {\n    const hashes: SimpleXml.Element | undefined = data.hashes.size > 0\n      ? {\n          type: 'element',\n          name: 'hashes',\n          children: this._factory.makeForHash().normalizeIterable(data.hashes, options, 'hash')\n        }\n      : undefined\n    const externalReferences: SimpleXml.Element | undefined =\n      this._factory.spec.supportsToolReferences && data.externalReferences.size > 0\n        ? {\n            type: 'element',\n            name: 'externalReferences',\n            children: this._factory.makeForExternalReference()\n              .normalizeIterable(data.externalReferences, options, 'reference')\n          }\n        : undefined\n    return {\n      type: 'element',\n      name: elementName,\n      children: [\n        makeOptionalTextElement(data.vendor, 'vendor'),\n        makeOptionalTextElement(data.name, 'name'),\n        makeOptionalTextElement(data.version, 'version'),\n        hashes,\n        externalReferences\n      ].filter(isNotUndefined)\n    }\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.Tool>, options: NormalizerOptions, elementName: string): SimpleXml.Element[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(t => this.normalize(t, options, elementName))\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class HashNormalizer extends BaseXmlNormalizer<Models.Hash> {\n  normalize ([algorithm, content]: Models.Hash, options: NormalizerOptions, elementName: string): SimpleXml.Element | undefined {\n    const spec = this._factory.spec\n    return spec.supportsHashAlgorithm(algorithm) && spec.supportsHashValue(content)\n      ? {\n          type: 'element',\n          name: elementName,\n          attributes: { alg: algorithm },\n          children: content\n        }\n      : undefined\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.Hash>, options: NormalizerOptions, elementName: string): SimpleXml.Element[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(\n      h => this.normalize(h, options, elementName)\n    ).filter(isNotUndefined)\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class OrganizationalContactNormalizer extends BaseXmlNormalizer<Models.OrganizationalContact> {\n  normalize (data: Models.OrganizationalContact, options: NormalizerOptions, elementName: string): SimpleXml.Element {\n    return {\n      type: 'element',\n      name: elementName,\n      children: [\n        makeOptionalTextElement(data.name, 'name'),\n        makeOptionalTextElement(data.email, 'email'),\n        makeOptionalTextElement(data.phone, 'phone')\n      ].filter(isNotUndefined)\n    }\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.OrganizationalContact>, options: NormalizerOptions, elementName: string): SimpleXml.Element[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(c => this.normalize(c, options, elementName))\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class OrganizationalEntityNormalizer extends BaseXmlNormalizer<Models.OrganizationalEntity> {\n  normalize (data: Models.OrganizationalEntity, options: NormalizerOptions, elementName: string): SimpleXml.Element {\n    return {\n      type: 'element',\n      name: elementName,\n      children: [\n        makeOptionalTextElement(data.name, 'name'),\n        ...makeTextElementIter(data.url, options, 'url')\n          .filter(({ children: u }) => XmlSchema.isAnyURI(u)),\n        ...this._factory.makeForOrganizationalContact().normalizeIterable(data.contact, options, 'contact')\n      ].filter(isNotUndefined)\n    }\n  }\n}\n\nexport class ComponentNormalizer extends BaseXmlNormalizer<Models.Component> {\n  normalize (data: Models.Component, options: NormalizerOptions, elementName: string): SimpleXml.Element | undefined {\n    const spec = this._factory.spec\n    if (!spec.supportsComponentType(data.type)) {\n      return undefined\n    }\n    const supplier: SimpleXml.Element | undefined = data.supplier === undefined\n      ? undefined\n      : this._factory.makeForOrganizationalEntity().normalize(data.supplier, options, 'supplier')\n    const version: SimpleXml.Element | undefined = (\n      spec.requiresComponentVersion\n        ? makeTextElement\n        : makeOptionalTextElement\n    )(\n      data.version ?? '',\n      'version'\n    )\n    const hashes: SimpleXml.Element | undefined = data.hashes.size > 0\n      ? {\n          type: 'element',\n          name: 'hashes',\n          children: this._factory.makeForHash().normalizeIterable(data.hashes, options, 'hash')\n        }\n      : undefined\n    const licenses: SimpleXml.Element | undefined = data.licenses.size > 0\n      ? {\n          type: 'element',\n          name: 'licenses',\n          children: this._factory.makeForLicense().normalizeIterable(data.licenses, options)\n        }\n      : undefined\n    const swid: SimpleXml.Element | undefined = data.swid === undefined\n      ? undefined\n      : this._factory.makeForSWID().normalize(data.swid, options, 'swid')\n    const extRefs: SimpleXml.Element | undefined = data.externalReferences.size > 0\n      ? {\n          type: 'element',\n          name: 'externalReferences',\n          children: this._factory.makeForExternalReference()\n            .normalizeIterable(data.externalReferences, options, 'reference')\n        }\n      : undefined\n    const properties: SimpleXml.Element | undefined = spec.supportsProperties(data) && data.properties.size > 0\n      ? {\n          type: 'element',\n          name: 'properties',\n          children: this._factory.makeForProperty().normalizeIterable(data.properties, options, 'property')\n        }\n      : undefined\n    const components: SimpleXml.Element | undefined = data.components.size > 0\n      ? {\n          type: 'element',\n          name: 'components',\n          children: this.normalizeIterable(data.components, options, 'component')\n        }\n      : undefined\n    return {\n      type: 'element',\n      name: elementName,\n      attributes: {\n        type: data.type,\n        'bom-ref': data.bomRef.value\n      },\n      children: [\n        supplier,\n        makeOptionalTextElement(data.author, 'author'),\n        makeOptionalTextElement(data.publisher, 'publisher'),\n        makeOptionalTextElement(data.group, 'group'),\n        makeTextElement(data.name, 'name'),\n        version,\n        makeOptionalTextElement(data.description, 'description'),\n        makeOptionalTextElement(data.scope, 'scope'),\n        hashes,\n        licenses,\n        makeOptionalTextElement(data.copyright, 'copyright'),\n        makeOptionalTextElement(data.cpe, 'cpe'),\n        makeOptionalTextElement(data.purl, 'purl'),\n        swid,\n        extRefs,\n        properties,\n        components\n      ].filter(isNotUndefined)\n    }\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.Component>, options: NormalizerOptions, elementName: string): SimpleXml.Element[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(\n      c => this.normalize(c, options, elementName)\n    ).filter(isNotUndefined)\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class LicenseNormalizer extends BaseXmlNormalizer<Models.License> {\n  normalize (data: Models.License, options: NormalizerOptions): SimpleXml.Element {\n    switch (true) {\n      case data instanceof Models.NamedLicense:\n        return this.#normalizeNamedLicense(data as Models.NamedLicense, options)\n      case data instanceof Models.SpdxLicense:\n        return this.#normalizeSpdxLicense(data as Models.SpdxLicense, options)\n      case data instanceof Models.LicenseExpression:\n        return this.#normalizeLicenseExpression(data as Models.LicenseExpression)\n      /* c8 ignore start */\n      default:\n        // this case is not expected to happen - and therefore is undocumented\n        throw new TypeError('Unexpected LicenseChoice')\n      /* c8 ignore end */\n    }\n  }\n\n  #normalizeNamedLicense (data: Models.NamedLicense, options: NormalizerOptions): SimpleXml.Element {\n    const url = data.url?.toString()\n    return {\n      type: 'element',\n      name: 'license',\n      children: [\n        makeTextElement(data.name, 'name'),\n        data.text === undefined\n          ? undefined\n          : this._factory.makeForAttachment().normalize(data.text, options, 'text'),\n        XmlSchema.isAnyURI(url)\n          ? makeTextElement(url, 'url')\n          : undefined\n      ].filter(isNotUndefined)\n    }\n  }\n\n  #normalizeSpdxLicense (data: Models.SpdxLicense, options: NormalizerOptions): SimpleXml.Element {\n    const url = data.url?.toString()\n    return {\n      type: 'element',\n      name: 'license',\n      children: [\n        makeTextElement(data.id, 'id'),\n        data.text === undefined\n          ? undefined\n          : this._factory.makeForAttachment().normalize(data.text, options, 'text'),\n        XmlSchema.isAnyURI(url)\n          ? makeTextElement(url, 'url')\n          : undefined\n      ].filter(isNotUndefined)\n    }\n  }\n\n  #normalizeLicenseExpression (data: Models.LicenseExpression): SimpleXml.Element {\n    return makeTextElement(data.expression, 'expression')\n  }\n\n  /**\n   * If there is any {@link Models.LicenseExpression | LicenseExpression} in the set, then this is the only item that is normalized.\n   *\n   * @since 1.5.1\n   */\n  normalizeIterable (data: SortableIterable<Models.License>, options: NormalizerOptions): SimpleXml.Element[] {\n    const licenses = options.sortLists ?? false\n      ? data.sorted()\n      : Array.from(data)\n\n    if (licenses.length > 1) {\n      const expressions = licenses.filter(l => l instanceof Models.LicenseExpression) as Models.LicenseExpression[]\n      if (expressions.length > 0) {\n        // could have thrown {@link RangeError} when there is more than one only {@link Models.LicenseExpression | LicenseExpression}.\n        // but let's be graceful and just normalize to the most relevant choice: any expression\n        return [this.#normalizeLicenseExpression(expressions[0])]\n      }\n    }\n\n    return licenses.map(l => this.normalize(l, options))\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class SWIDNormalizer extends BaseXmlNormalizer<Models.SWID> {\n  normalize (data: Models.SWID, options: NormalizerOptions, elementName: string): SimpleXml.Element {\n    const url = data.url?.toString()\n    return {\n      type: 'element',\n      name: elementName,\n      attributes: {\n        tagId: data.tagId,\n        name: data.name,\n        version: data.version || undefined,\n        tagVersion: data.tagVersion,\n        patch: data.patch === undefined\n          ? undefined\n          : (data.patch ? 'true' : 'false')\n      },\n      children: [\n        data.text === undefined\n          ? undefined\n          : this._factory.makeForAttachment().normalize(data.text, options, 'text'),\n        XmlSchema.isAnyURI(url)\n          ? makeTextElement(url, 'url')\n          : undefined\n      ].filter(isNotUndefined)\n    }\n  }\n}\n\nexport class ExternalReferenceNormalizer extends BaseXmlNormalizer<Models.ExternalReference> {\n  normalize (data: Models.ExternalReference, options: NormalizerOptions, elementName: string): SimpleXml.Element | undefined {\n    const url = data.url.toString()\n    return this._factory.spec.supportsExternalReferenceType(data.type) &&\n    XmlSchema.isAnyURI(url)\n      ? {\n          type: 'element',\n          name: elementName,\n          attributes: {\n            type: data.type\n          },\n          children: [\n            makeTextElement(url, 'url'),\n            makeOptionalTextElement(data.comment, 'comment')\n          ].filter(isNotUndefined)\n        }\n      : undefined\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.ExternalReference>, options: NormalizerOptions, elementName: string): SimpleXml.Element[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(\n      r => this.normalize(r, options, elementName)\n    ).filter(isNotUndefined)\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class AttachmentNormalizer extends BaseXmlNormalizer<Models.Attachment> {\n  normalize (data: Models.Attachment, options: NormalizerOptions, elementName: string): SimpleXml.Element {\n    return {\n      type: 'element',\n      name: elementName,\n      attributes: {\n        'content-type': data.contentType || undefined,\n        encoding: data.encoding || undefined\n      },\n      children: data.content\n    }\n  }\n}\n\nexport class PropertyNormalizer extends BaseXmlNormalizer<Models.Property> {\n  normalize (data: Models.Property, options: NormalizerOptions, elementName: string): SimpleXml.Element {\n    return {\n      type: 'element',\n      name: elementName,\n      attributes: {\n        name: data.name\n      },\n      children: data.value\n    }\n  }\n\n  /** @since 1.5.1 */\n  normalizeIterable (data: SortableIterable<Models.Property>, options: NormalizerOptions, elementName: string): SimpleXml.Element[] {\n    return (\n      options.sortLists ?? false\n        ? data.sorted()\n        : Array.from(data)\n    ).map(p => this.normalize(p, options, elementName))\n  }\n\n  /** @deprecated use {@link normalizeIterable} instead of {@link normalizeRepository} */\n  normalizeRepository = this.normalizeIterable\n}\n\nexport class DependencyGraphNormalizer extends BaseXmlNormalizer<Models.Bom> {\n  normalize (data: Models.Bom, options: NormalizerOptions, elementName: string): SimpleXml.Element | undefined {\n    const allRefs = new Map<Models.BomRef, Models.BomRefRepository>()\n    if (data.metadata.component !== undefined) {\n      allRefs.set(data.metadata.component.bomRef, data.metadata.component.dependencies)\n      for (const component of data.metadata.component.components[treeIteratorSymbol]()) {\n        allRefs.set(component.bomRef, component.dependencies)\n      }\n    }\n    for (const component of data.components[treeIteratorSymbol]()) {\n      allRefs.set(component.bomRef, component.dependencies)\n    }\n\n    const normalized: Array<(SimpleXml.Element & { attributes: { ref: string } })> = []\n    for (const [ref, deps] of allRefs) {\n      const dep = this.#normalizeDependency(ref, deps, allRefs, options)\n      if (isNotUndefined(dep)) {\n        normalized.push(dep)\n      }\n    }\n\n    if (options.sortLists ?? false) {\n      normalized.sort(\n        ({ attributes: { ref: a } }, { attributes: { ref: b } }) => a.localeCompare(b))\n    }\n\n    return {\n      type: 'element',\n      name: elementName,\n      children: normalized\n    }\n  }\n\n  #normalizeDependency (\n    ref: Models.BomRef,\n    deps: Models.BomRefRepository,\n    allRefs: Map<Models.BomRef, Models.BomRefRepository>,\n    options: NormalizerOptions\n  ): undefined | (SimpleXml.Element & { attributes: { ref: string } }) {\n    const bomRef = ref.toString()\n    if (bomRef.length === 0) {\n      // no value -> cannot render\n      return undefined\n    }\n\n    const dependsOn: string[] = Array.from(deps).filter(d => allRefs.has(d) && d !== ref)\n      .map(d => d.toString()).filter(d => d.length > 0)\n    if (options.sortLists ?? false) {\n      dependsOn.sort((a, b) => a.localeCompare(b))\n    }\n\n    return {\n      type: 'element',\n      name: 'dependency',\n      attributes: { ref: bomRef },\n      children: dependsOn.map(d => ({\n        type: 'element',\n        name: 'dependency',\n        attributes: { ref: d }\n      }))\n    }\n  }\n}\n\n/* eslint-enable @typescript-eslint/prefer-nullish-coalescing, @typescript-eslint/strict-boolean-expressions */\n\ntype StrictTextElement = SimpleXml.TextElement & { children: string }\n\nfunction makeOptionalTextElement (data: null | undefined | Stringable, elementName: string): undefined | StrictTextElement {\n  const s = data?.toString() ?? ''\n  return s.length > 0\n    ? makeTextElement(s, elementName)\n    : undefined\n}\n\nfunction makeTextElement (data: Stringable, elementName: string): StrictTextElement {\n  return {\n    type: 'element',\n    name: elementName,\n    children: data.toString()\n  }\n}\n\nfunction makeTextElementIter (data: Iterable<Stringable>, options: NormalizerOptions, elementName: string): StrictTextElement[] {\n  const r: StrictTextElement[] = Array.from(data, d => makeTextElement(d, elementName))\n  if (options.sortLists ?? false) {\n    r.sort(({ children: a }, { children: b }) => a.localeCompare(b))\n  }\n  return r\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace XmlSchema {\n\n  const _AnyUriSchemePattern = /^[a-z][a-z0-9+\\-.]*$/i\n\n  /**\n   * @see {@link isAnyURI}\n   */\n  export type AnyURI = string\n\n  /**\n   * Test whether format is XML::anyURI - best-effort.\n   *\n   * @see {@link http://www.w3.org/TR/xmlschema-2/#anyURI | anyURI spec}\n   * @see {@link https://www.w3.org/2011/04/XMLSchema/TypeLibrary-URI-RFC3986.xsd | RFC 3986}\n   * @see {@link https://www.w3.org/2011/04/XMLSchema/TypeLibrary-IRI-RFC3987.xsd | RFC 3987}\n   *\n   * @TODO add more validation according to spec\n   */\n  export function isAnyURI (value: AnyURI | any): value is AnyURI {\n    if (typeof value !== 'string') {\n      // not a string\n      return false\n    }\n    if (value.length === 0) {\n      // empty string\n      return false\n    }\n\n    const fragmentPos = value.indexOf('#')\n    let beforeFragment: string\n    if (fragmentPos >= 0) {\n      if (value.includes('#', fragmentPos + 1)) {\n        // has a second fragment marker\n        return false\n      }\n      beforeFragment = value.slice(undefined, fragmentPos)\n    } else {\n      beforeFragment = value\n    }\n\n    const schemePos = beforeFragment.indexOf(':')\n    if (schemePos >= 0) {\n      if (!_AnyUriSchemePattern.test(beforeFragment.slice(undefined, schemePos))) {\n        // invalid schema\n        return false\n      }\n    }\n\n    return true\n  }\n\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace SimpleXml {\n\n  /**\n   * Attribute's name.\n   *\n   * Must be alphanumeric.\n   * Must start with alpha.\n   * Must not contain whitespace characters.\n   * Should not be literal \"xmlns\".\n   */\n  export type AttributeName = string\n\n  /**\n   * Element's name.\n   *\n   * Must be alphanumeric.\n   * Must start with alpha.\n   * Must not contain whitespace characters.\n   */\n  export type ElementName = string\n\n  /**\n   * Textual representation.\n   *\n   * Be aware that low-/high-bytes could be represented as numbers.\n   * They might need to be converted on serialization.\n   */\n  export type Text = string | number\n\n  /**\n   * Unset representation.\n   *\n   * Do NOT allow null here, as it is context-aware sometimes an empty string or unset,\n   * in a space where context is unknown.\n   */\n  export type Unset = undefined\n\n  export type ElementAttributes = Record<AttributeName, Text | Unset>\n\n  export type ElementChildren = Iterable<Comment | Element> | Text | Unset\n\n  /**\n   * Element node.\n   */\n  export interface Element {\n    type: 'element'\n    name: ElementName\n    namespace?: string | URL\n    attributes?: ElementAttributes\n    children?: ElementChildren\n  }\n\n  /**\n   * Element node with textual content\n   */\n  export interface TextElement extends Element {\n    children: Text\n  }\n\n  /**\n   * Comment node.\n   */\n  export interface Comment {\n    type: 'comment'\n    text?: Text\n  }\n\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Bom } from '../models'\nimport { Format, UnsupportedFormatError } from '../spec'\nimport { BaseSerializer } from './baseSerializer'\nimport type { NormalizerOptions } from './types'\nimport type { Factory as NormalizerFactory } from './xml/normalize'\nimport type { SimpleXml } from './xml/types'\n\n/**\n * Base XML serializer.\n */\nexport abstract class XmlBaseSerializer extends BaseSerializer<SimpleXml.Element> {\n  readonly #normalizerFactory: NormalizerFactory\n\n  /**\n   * @throws {@link UnsupportedFormatError} if `normalizerFactory.spec` does not support {@link Format.XML}.\n   */\n  constructor (normalizerFactory: XmlBaseSerializer['normalizerFactory']) {\n    if (!normalizerFactory.spec.supportsFormat(Format.XML)) {\n      throw new UnsupportedFormatError('Spec does not support XML format.')\n    }\n\n    super()\n    this.#normalizerFactory = normalizerFactory\n  }\n\n  get normalizerFactory (): NormalizerFactory {\n    return this.#normalizerFactory\n  }\n\n  protected _normalize (\n    bom: Bom,\n    options: NormalizerOptions = {}\n  ): SimpleXml.Element {\n    return this.#normalizerFactory.makeForBom()\n      .normalize(bom, options)\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { isNotUndefined } from '../_helpers/notUndefined'\nimport type { SerializerOptions } from './types'\nimport type { SimpleXml } from './xml/types'\nimport { XmlBaseSerializer } from './xmlBaseSerializer'\n\n/**\n * XML serializer for web browsers.\n */\nexport class XmlSerializer extends XmlBaseSerializer {\n  protected _serialize (\n    normalizedBom: SimpleXml.Element,\n    { space }: SerializerOptions = {}\n  ): string {\n    const doc = this.#buildXmlDocument(normalizedBom)\n    // @TODO: add indention based on `space`\n    return (new XMLSerializer()).serializeToString(doc)\n  }\n\n  #buildXmlDocument (\n    normalizedBom: SimpleXml.Element\n  ): XMLDocument {\n    const namespace = null\n    const doc = document.implementation.createDocument(namespace, null)\n    doc.appendChild(this.#buildElement(normalizedBom, doc, namespace))\n    return doc\n  }\n\n  #getNS (element: SimpleXml.Element): string | null {\n    const ns = (element.namespace ?? element.attributes?.xmlns)?.toString() ?? ''\n    return ns.length > 0\n      ? ns\n      : null\n  }\n\n  #buildElement (element: SimpleXml.Element, doc: XMLDocument, parentNS: string | null): Element {\n    const ns = this.#getNS(element) ?? parentNS\n    const node: Element = doc.createElementNS(ns, element.name)\n    if (isNotUndefined(element.attributes)) {\n      this.#setAttributes(node, element.attributes)\n    }\n    if (isNotUndefined(element.children)) {\n      this.#setChildren(node, element.children, ns)\n    }\n    return node\n  }\n\n  #setAttributes (node: Element, attributes: SimpleXml.ElementAttributes): void {\n    for (const [name, value] of Object.entries(attributes)) {\n      if (isNotUndefined(value) && name !== 'xmlns') {\n        // reminder: cannot change a namespace(xmlns) after the fact.\n        node.setAttribute(name, `${value}`)\n      }\n    }\n  }\n\n  #setChildren (node: Element, children: SimpleXml.ElementChildren, parentNS: string | null = null): void {\n    if (typeof children === 'string' || typeof children === 'number') {\n      node.textContent = children.toString()\n      return\n    }\n\n    const doc = node.ownerDocument\n    for (const child of (children as Iterable<SimpleXml.Comment | SimpleXml.Element>)) {\n      if (child.type === 'element') {\n        node.appendChild(this.#buildElement(child, doc, parentNS))\n      }\n      // comments are not implemented, yet\n    }\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/* @ts-expect-error: TS6059 -- this works as long as the file/path is available in dist-package. */\nimport { enum as _spdxSpecEnum } from '../res/schema/spdx.SNAPSHOT.schema.json' assert { type: 'json' }\n\n/**\n * One of the known SPDX licence identifiers.\n *\n * @see {@link http://cyclonedx.org/schema/spdx | SPDX schema}\n * @see {@link isSupportedSpdxId}\n * @see {@link fixupSpdxId}\n */\nexport type SpdxId = string\n\nconst spdxIds: ReadonlySet<SpdxId> = new Set(_spdxSpecEnum)\n\nconst spdxLowerToActual: ReadonlyMap<string, SpdxId> = new Map(\n  _spdxSpecEnum.map(spdxId => [spdxId.toLowerCase(), spdxId])\n)\n\nexport function isSupportedSpdxId (value: SpdxId | any): value is SpdxId {\n  return spdxIds.has(value)\n}\n\n/** Try to convert a `string`-like to a valid/known {@link SpdxId}. */\nexport function fixupSpdxId (value: string | any): SpdxId | undefined {\n  return typeof value === 'string' && value.length > 0\n    ? spdxLowerToActual.get(value.toLowerCase())\n    : undefined\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { ComponentType, ExternalReferenceType, HashAlgorithm } from './enums'\nimport type { HashContent } from './models'\n\nexport enum Version {\n  v1dot0 = '1.0',\n  v1dot1 = '1.1',\n  v1dot2 = '1.2',\n  v1dot3 = '1.3',\n  v1dot4 = '1.4',\n}\n\nexport enum Format {\n  XML = 'xml',\n  JSON = 'json',\n}\n\nexport class UnsupportedFormatError extends Error {\n}\n\nexport interface Protocol {\n  version: Version\n  supportsFormat: (f: Format | any) => boolean\n  supportsComponentType: (ct: ComponentType | any) => boolean\n  supportsHashAlgorithm: (ha: HashAlgorithm | any) => boolean\n  supportsHashValue: (hv: HashContent | any) => boolean\n  supportsExternalReferenceType: (ert: ExternalReferenceType | any) => boolean\n  supportsDependencyGraph: boolean\n  supportsToolReferences: boolean\n  requiresComponentVersion: boolean\n  supportsProperties: (model: any) => boolean\n}\n\n/**\n * This class was never intended to be public, but\n * it is a helper to get the exact spec-versions implemented according to {@link Protocol}.\n */\nclass Spec implements Protocol {\n  readonly #version: Version\n  readonly #formats: ReadonlySet<Format>\n  readonly #componentTypes: ReadonlySet<ComponentType>\n  readonly #hashAlgorithms: ReadonlySet<HashAlgorithm>\n  readonly #hashValuePattern: RegExp\n  readonly #externalReferenceTypes: ReadonlySet<ExternalReferenceType>\n  readonly #supportsDependencyGraph: boolean\n  readonly #supportsToolReferences: boolean\n  readonly #requiresComponentVersion: boolean\n  readonly #supportsProperties: boolean\n\n  constructor (\n    version: Version,\n    formats: Iterable<Format>,\n    componentTypes: Iterable<ComponentType>,\n    hashAlgorithms: Iterable<HashAlgorithm>,\n    hashValuePattern: RegExp,\n    externalReferenceTypes: Iterable<ExternalReferenceType>,\n    supportsDependencyGraph: boolean,\n    supportsToolReferences: boolean,\n    requiresComponentVersion: boolean,\n    supportsProperties: boolean\n  ) {\n    this.#version = version\n    this.#formats = new Set(formats)\n    this.#componentTypes = new Set(componentTypes)\n    this.#hashAlgorithms = new Set(hashAlgorithms)\n    this.#hashValuePattern = hashValuePattern\n    this.#externalReferenceTypes = new Set(externalReferenceTypes)\n    this.#supportsDependencyGraph = supportsDependencyGraph\n    this.#supportsToolReferences = supportsToolReferences\n    this.#requiresComponentVersion = requiresComponentVersion\n    this.#supportsProperties = supportsProperties\n  }\n\n  get version (): Version {\n    return this.#version\n  }\n\n  supportsFormat (f: Format | any): boolean {\n    return this.#formats.has(f)\n  }\n\n  supportsComponentType (ct: ComponentType | any): boolean {\n    return this.#componentTypes.has(ct)\n  }\n\n  supportsHashAlgorithm (ha: HashAlgorithm | any): boolean {\n    return this.#hashAlgorithms.has(ha)\n  }\n\n  supportsHashValue (hv: HashContent | any): boolean {\n    return typeof hv === 'string' &&\n      this.#hashValuePattern.test(hv)\n  }\n\n  supportsExternalReferenceType (ert: ExternalReferenceType | any): boolean {\n    return this.#externalReferenceTypes.has(ert)\n  }\n\n  get supportsDependencyGraph (): boolean {\n    return this.#supportsDependencyGraph\n  }\n\n  get supportsToolReferences (): boolean {\n    return this.#supportsToolReferences\n  }\n\n  get requiresComponentVersion (): boolean {\n    return this.#requiresComponentVersion\n  }\n\n  supportsProperties (): boolean {\n    // currently a global allow/deny -- might work based on input, in the future\n    return this.#supportsProperties\n  }\n}\n\n/** Specification v1.2 */\nexport const Spec1dot2: Readonly<Protocol> = Object.freeze(new Spec(\n  Version.v1dot2,\n  [\n    Format.XML,\n    Format.JSON\n  ],\n  [\n    ComponentType.Application,\n    ComponentType.Framework,\n    ComponentType.Library,\n    ComponentType.Container,\n    ComponentType.OperatingSystem,\n    ComponentType.Device,\n    ComponentType.Firmware,\n    ComponentType.File\n  ],\n  [\n    HashAlgorithm.MD5,\n    HashAlgorithm['SHA-1'],\n    HashAlgorithm['SHA-256'],\n    HashAlgorithm['SHA-384'],\n    HashAlgorithm['SHA-512'],\n    HashAlgorithm['SHA3-256'],\n    HashAlgorithm['SHA3-384'],\n    HashAlgorithm['SHA3-512'],\n    HashAlgorithm['BLAKE2b-256'],\n    HashAlgorithm['BLAKE2b-384'],\n    HashAlgorithm['BLAKE2b-512'],\n    HashAlgorithm.BLAKE3\n  ],\n  /^([a-fA-F0-9]{32})$|^([a-fA-F0-9]{40})$|^([a-fA-F0-9]{64})$|^([a-fA-F0-9]{96})$|^([a-fA-F0-9]{128})$/,\n  [\n    ExternalReferenceType.VCS,\n    ExternalReferenceType.IssueTracker,\n    ExternalReferenceType.Website,\n    ExternalReferenceType.Advisories,\n    ExternalReferenceType.BOM,\n    ExternalReferenceType.MailingList,\n    ExternalReferenceType.Social,\n    ExternalReferenceType.Chat,\n    ExternalReferenceType.Documentation,\n    ExternalReferenceType.Support,\n    ExternalReferenceType.Distribution,\n    ExternalReferenceType.License,\n    ExternalReferenceType.BuildMeta,\n    ExternalReferenceType.BuildSystem,\n    ExternalReferenceType.Other\n  ],\n  true,\n  false,\n  true,\n  false\n))\n\n/** Specification v1.3 */\nexport const Spec1dot3: Readonly<Protocol> = Object.freeze(new Spec(\n  Version.v1dot3,\n  [\n    Format.XML,\n    Format.JSON\n  ],\n  [\n    ComponentType.Application,\n    ComponentType.Framework,\n    ComponentType.Library,\n    ComponentType.Container,\n    ComponentType.OperatingSystem,\n    ComponentType.Device,\n    ComponentType.Firmware,\n    ComponentType.File\n  ],\n  [\n    HashAlgorithm.MD5,\n    HashAlgorithm['SHA-1'],\n    HashAlgorithm['SHA-256'],\n    HashAlgorithm['SHA-384'],\n    HashAlgorithm['SHA-512'],\n    HashAlgorithm['SHA3-256'],\n    HashAlgorithm['SHA3-384'],\n    HashAlgorithm['SHA3-512'],\n    HashAlgorithm['BLAKE2b-256'],\n    HashAlgorithm['BLAKE2b-384'],\n    HashAlgorithm['BLAKE2b-512'],\n    HashAlgorithm.BLAKE3\n  ],\n  /^([a-fA-F0-9]{32})$|^([a-fA-F0-9]{40})$|^([a-fA-F0-9]{64})$|^([a-fA-F0-9]{96})$|^([a-fA-F0-9]{128})$/,\n  [\n    ExternalReferenceType.VCS,\n    ExternalReferenceType.IssueTracker,\n    ExternalReferenceType.Website,\n    ExternalReferenceType.Advisories,\n    ExternalReferenceType.BOM,\n    ExternalReferenceType.MailingList,\n    ExternalReferenceType.Social,\n    ExternalReferenceType.Chat,\n    ExternalReferenceType.Documentation,\n    ExternalReferenceType.Support,\n    ExternalReferenceType.Distribution,\n    ExternalReferenceType.License,\n    ExternalReferenceType.BuildMeta,\n    ExternalReferenceType.BuildSystem,\n    ExternalReferenceType.Other\n  ],\n  true,\n  false,\n  true,\n  true\n))\n\n/** Specification v1.4 */\nexport const Spec1dot4: Readonly<Protocol> = Object.freeze(new Spec(\n  Version.v1dot4,\n  [\n    Format.XML,\n    Format.JSON\n  ],\n  [\n    ComponentType.Application,\n    ComponentType.Framework,\n    ComponentType.Library,\n    ComponentType.Container,\n    ComponentType.OperatingSystem,\n    ComponentType.Device,\n    ComponentType.Firmware,\n    ComponentType.File\n  ],\n  [\n    HashAlgorithm.MD5,\n    HashAlgorithm['SHA-1'],\n    HashAlgorithm['SHA-256'],\n    HashAlgorithm['SHA-384'],\n    HashAlgorithm['SHA-512'],\n    HashAlgorithm['SHA3-256'],\n    HashAlgorithm['SHA3-384'],\n    HashAlgorithm['SHA3-512'],\n    HashAlgorithm['BLAKE2b-256'],\n    HashAlgorithm['BLAKE2b-384'],\n    HashAlgorithm['BLAKE2b-512'],\n    HashAlgorithm.BLAKE3\n  ],\n  /^([a-fA-F0-9]{32})$|^([a-fA-F0-9]{40})$|^([a-fA-F0-9]{64})$|^([a-fA-F0-9]{96})$|^([a-fA-F0-9]{128})$/,\n  [\n    ExternalReferenceType.VCS,\n    ExternalReferenceType.IssueTracker,\n    ExternalReferenceType.Website,\n    ExternalReferenceType.Advisories,\n    ExternalReferenceType.BOM,\n    ExternalReferenceType.MailingList,\n    ExternalReferenceType.Social,\n    ExternalReferenceType.Chat,\n    ExternalReferenceType.Documentation,\n    ExternalReferenceType.Support,\n    ExternalReferenceType.Distribution,\n    ExternalReferenceType.License,\n    ExternalReferenceType.BuildMeta,\n    ExternalReferenceType.BuildSystem,\n    ExternalReferenceType.ReleaseNotes,\n    ExternalReferenceType.Other\n  ],\n  true,\n  true,\n  false,\n  true\n))\n\nexport const SpecVersionDict: Readonly<Partial<Record<Version, Readonly<Protocol>>>> = Object.freeze({\n  [Version.v1dot2]: Spec1dot2,\n  [Version.v1dot3]: Spec1dot3,\n  [Version.v1dot4]: Spec1dot4\n})\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * Specifies a well-formed CPE name that conforms to the CPE 2.2 or 2.3 specification.\n * See the [official specification](https://nvd.nist.gov/products/cpe).\n *\n * @see {@link isCPE}\n */\nexport type CPE = string\n\n/* eslint-disable-next-line no-useless-escape -- value directly from XML, revert special-chars(like `&amp;` -> `&`), and surrounded with `^` and `$` */\nconst cpePattern = /^([c][pP][eE]:\\/[AHOaho]?(:[A-Za-z0-9\\._\\-~%]*){0,6})$|^(cpe:2\\.3:[aho\\*\\-](:(((\\?*|\\*?)([a-zA-Z0-9\\-\\._]|(\\\\[\\\\\\*\\?!\"#$$%&'\\(\\)\\+,\\/:;<=>@\\[\\]\\^`\\{\\|}~]))+(\\?*|\\*?))|[\\*\\-])){5}(:(([a-zA-Z]{2,3}(-([a-zA-Z]{2}|[0-9]{3}))?)|[\\*\\-]))(:(((\\?*|\\*?)([a-zA-Z0-9\\-\\._]|(\\\\[\\\\\\*\\?!\"#$$%&'\\(\\)\\+,\\/:;<=>@\\[\\]\\^`\\{\\|}~]))+(\\?*|\\*?))|[\\*\\-])){4})$/\n\nexport function isCPE (value: any): value is CPE {\n  return typeof value === 'string' &&\n        cpePattern.test(value)\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport { SortableNumbers } from '../_helpers/sortable'\nimport type { PositiveInteger } from './integer'\nimport { isPositiveInteger } from './integer'\n\n/**\n * Integer representation of a Common Weaknesses Enumerations (CWE).\n *\n * @example\n * value `399` might represent `https://cwe.mitre.org/data/definitions/399.html`.\n *\n * @see {@link isCWE}\n *\n * @beta\n */\nexport type CWE = PositiveInteger\n\n/** @beta */\nexport function isCWE (value: any): value is CWE {\n  return isPositiveInteger(value)\n}\n\n/** @beta */\nexport class CweRepository extends SortableNumbers<CWE> {}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './cpe'\nexport * from './cwe'\nexport * from './integer'\nexport * from './mimeType'\nexport * from './urn'\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * Integer\n *\n * @see {@link isInteger}\n */\nexport type Integer = number | NonNegativeInteger\n\nexport function isInteger (value: any): value is Integer {\n  return Number.isInteger(value)\n}\n\n/**\n * Integer greater than 0\n *\n * @see {@link isNonNegativeInteger}\n */\nexport type NonNegativeInteger = number | PositiveInteger\n\nexport function isNonNegativeInteger (value: any): value is NonNegativeInteger {\n  return isInteger(value) &&\n    value >= 0\n}\n\n/**\n * Integer greater 0\n *\n * @see {@link isPositiveInteger}\n */\nexport type PositiveInteger = number\n\nexport function isPositiveInteger (value: any): value is PositiveInteger {\n  return isInteger(value) &&\n        value > 0\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * @see {@link isMimeType}\n */\nexport type MimeType = string\n\n/* regular expression was taken from the CycloneDX schema definitions. */\nconst mimeTypePattern = /^[-+a-z0-9.]+\\/[-+a-z0-9.]+$/\n\nexport function isMimeType (value: any): value is MimeType {\n  return typeof value === 'string' &&\n        mimeTypePattern.test(value)\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * Defines a string representation of a UUID conforming to\n * {@link https://datatracker.ietf.org/doc/html/rfc4122 | RFC 4122}.\n *\n * @see {@link isUrnUuid}\n *\n * @deprecated Use `string` instead.\n */\nexport type UrnUuid = string\n\n/* regular expression was taken from the CycloneDX schema definitions.\n * see https://github.com/CycloneDX/specification/blob/ef71717ae0ecb564c0b4c9536d6e9e57e35f2e69/schema/bom-1.4.schema.json#L39\n */\nconst urnUuidPattern = /^urn:uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/\n\n/**\n * @deprecated This function will be removed during next mayor release.\n */\nexport function isUrnUuid (value: any): value is UrnUuid {\n  return typeof value === 'string' &&\n       urnUuidPattern.test(value)\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\n/**\n * Generate valid random SerialNumbers for {@link Models.Bom.serialNumber | Models.Bom.serialNumber}.\n *\n * @since 1.13.0\n */\nexport function randomSerialNumber (): string {\n  const b = [\n    Math.round(Math.random() * 0xFFFF),\n    Math.round(Math.random() * 0xFFFF),\n    Math.round(Math.random() * 0xFFFF),\n    // UUID version 4\n    Math.round(Math.random() * 0x0FFF) | 0x4000,\n    // UUID version 4 variant 1\n    Math.round(Math.random() * 0x3FFF) | 0x8000,\n    Math.round(Math.random() * 0xFFFF),\n    Math.round(Math.random() * 0xFFFF),\n    Math.round(Math.random() * 0xFFFF)\n  ].map(n => n.toString(16).padStart(4, '0'))\n  return `urn:uuid:${b[0]}${b[1]}-${b[2]}-${b[3]}-${b[4]}-${b[5]}${b[6]}${b[7]}`\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\nexport * as BomUtility from './bomUtility'\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nimport type { Version } from '../spec'\n\nexport class NotImplementedError extends Error {\n  constructor (version: Version) {\n    super(`not implemented for CycloneDX version: ${version}`)\n  }\n}\n\nexport class MissingOptionalDependencyError extends Error {\n  readonly cause: any | undefined\n\n  constructor (message: string, cause?: any) {\n    super(message)\n    this.cause = cause\n  }\n}\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './errors'\nexport * as Types from './types'\n","/*!\nThis file is part of CycloneDX JavaScript Library.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\nSPDX-License-Identifier: Apache-2.0\nCopyright (c) OWASP Foundation. All Rights Reserved.\n*/\n\nexport * from './index.common'\n\n// region web-specifics\n\n// there is no JSON validator for the web, yet\n// there is no XML  validator for the web, yet\n\n// endregion web-specifics\n","module.exports = __WEBPACK_EXTERNAL_MODULE__6081__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(9136);\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__6081__","value","undefined","PackageUrlQualifierNames","compareObjectsSymbol","Symbol","SortableSet","Set","sorted","Array","from","this","sort","compare","other","sortedOther","sortedSelf","length","i","iCompared","a","b","toString","localeCompare","treeIteratorSymbol","AttachmentEncoding","ComponentScope","ComponentType","ExternalReferenceType","HashAlgorithm","AffectStatus","AnalysisJustification","AnalysisResponse","AnalysisResponseRepository","SortableStringables","AnalysisState","RatingMethod","Severity","makeFromString","makeExpression","makeDisjunctive","LicenseExpression","makeDisjunctiveWithId","makeDisjunctiveWithName","spdxId","fixupSpdxId","String","RangeError","SpdxLicense","NamedLicense","constructor","type","makeFromComponent","component","qualifiers","subpath","extRefs","externalReferences","extRef","url","VCS","VcsUrl","split","Distribution","DownloadURL","hashes","size","Checksum","hashAlgo","hashCont","toLowerCase","join","PackageURL","group","name","version","content","op","contentType","encoding","metadata","Metadata","components","ComponentRepository","vulnerabilities","VulnerabilityRepository","serialNumber","isPositiveInteger","TypeError","BomRefRepository","BomRef","bomRef","supplier","author","copyright","ExternalReferenceRepository","HashDictionary","licenses","LicenseRepository","publisher","purl","scope","swid","description","dependencies","cpe","properties","PropertyRepository","isCPE","bomRefCompare","SortableComparables","comment","Map","entries","a1","c1","a2","c2","static","expression","isEligibleExpression","text","id","isSupportedSpdxId","timestamp","tools","ToolRepository","authors","OrganizationalContactRepository","manufacture","email","phone","contact","OrganizationalEntityRepository","tagId","patch","tagVersion","isNonNegativeInteger","vendor","title","AdvisoryRepository","ref","versions","AffectedVersionRepository","AffectRepository","status","range","state","justification","response","detail","organizations","individuals","source","score","severity","method","vector","RatingRepository","ReferenceRepository","references","ratings","cwes","CweRepository","recommendation","advisories","created","published","updated","credits","analysis","affects","serialize","bom","options","_serialize","bomRefs","iterComponents","cs","add","values","bomRefDiscriminator","BomRefDiscriminator","discriminate","_normalize","reset","prefix","r","iterator","keys","knownRefValues","has","originalValue","Math","random","substring","spec","makeForBom","BomNormalizer","makeForMetadata","MetadataNormalizer","makeForComponent","ComponentNormalizer","makeForTool","ToolNormalizer","makeForOrganizationalContact","OrganizationalContactNormalizer","makeForOrganizationalEntity","OrganizationalEntityNormalizer","makeForHash","HashNormalizer","makeForLicense","LicenseNormalizer","makeForSWID","SWIDNormalizer","makeForExternalReference","ExternalReferenceNormalizer","makeForAttachment","AttachmentNormalizer","makeForProperty","PropertyNormalizer","makeForDependencyGraph","DependencyGraphNormalizer","schemaUrl","v1dot2","v1dot3","v1dot4","BaseJsonNormalizer","_factory","normalize","data","$schema","get","bomFormat","specVersion","normalizeIterable","supportsDependencyGraph","v","test","orgEntityNormalizer","toISOString","normalizeRepository","supportsToolReferences","sortLists","map","t","algorithm","supportsHashAlgorithm","supportsHashValue","alg","h","filter","isNotUndefined","JsonSchema","isIdnEmail","c","urls","normalizeStringableIter","isIriReference","supportsComponentType","requiresComponentVersion","supportsProperties","Models","expressions","l","license","supportsExternalReferenceType","p","allRefs","set","normalized","deps","dep","push","d","dependsOn","JsonSerializer","BaseSerializer","normalizerFactory","supportsFormat","Format","JSON","UnsupportedFormatError","super","space","stringify","xmlNamespace","BaseXmlNormalizer","children","namespace","attributes","elementName","makeOptionalTextElement","makeTextElementIter","u","XmlSchema","isAnyURI","makeTextElement","s","_AnyUriSchemePattern","fragmentPos","indexOf","beforeFragment","includes","slice","schemePos","XmlBaseSerializer","XML","XmlSerializer","normalizedBom","doc","XMLSerializer","serializeToString","document","implementation","createDocument","appendChild","element","ns","xmlns","parentNS","node","createElementNS","Object","setAttribute","textContent","ownerDocument","child","spdxIds","spdxLowerToActual","Version","Error","Spec","formats","componentTypes","hashAlgorithms","hashValuePattern","externalReferenceTypes","f","ct","ha","hv","ert","Spec1dot2","freeze","Application","Framework","Library","Container","OperatingSystem","Device","Firmware","File","MD5","BLAKE3","IssueTracker","Website","Advisories","BOM","MailingList","Social","Chat","Documentation","Support","License","BuildMeta","BuildSystem","Other","Spec1dot3","Spec1dot4","ReleaseNotes","SpecVersionDict","cpePattern","SortableNumbers","isInteger","Number","mimeTypePattern","urnUuidPattern","round","n","padStart","NotImplementedError","MissingOptionalDependencyError","message","cause","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}